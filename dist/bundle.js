!function(t){var e={};function r(n){if(e[n])return e[n].exports;var i=e[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)r.d(n,i,function(e){return t[e]}.bind(null,i));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=1)}([,function(t,e,r){"use strict";r.r(e);class n{constructor(t,e,r,n){this.kapacitet=e,this.id=t,this.iskoriscenost=50,this.temperatura=100,this.power$=r,this.cooling$=n,this.osluskuj()}osluskuj(){this.cooling$.subscribe(t=>{this.promeniHladjenje(t),this.izracunajTemperaturu()})}promeniHladjenje(t){t===this.id?(this.hladjenje++,console.log(`Hladjenje reaktora ${this.id} se povecava`)):(this.hladjenje--,console.log(`Hladjenje reaktora ${this.id} se smanjuje`))}izracunajTemperaturu(){this.temepratura=100+this.kapacitet*this.iskoriscenost/this.hladjenje*10,console.log(`Temperatura reaktora ${this.id} je ${this.temepratura}`)}izracunajIzlaznuSnagu(){return(kapacitet/iskoriscenost).toFixed(2)}}
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};function o(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}function s(t){return"function"==typeof t}var c=!1,a={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){t&&(new Error).stack;c=t},get useDeprecatedSynchronousErrorHandling(){return c}};function u(t){setTimeout(function(){throw t})}var l={closed:!0,next:function(t){},error:function(t){if(a.useDeprecatedSynchronousErrorHandling)throw t;u(t)},complete:function(){}},h=Array.isArray||function(t){return t&&"number"==typeof t.length};function p(t){return Error.call(this),this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map(function(t,e){return e+1+") "+t.toString()}).join("\n  "):"",this.name="UnsubscriptionError",this.errors=t,this}p.prototype=Object.create(Error.prototype);var d=p,b=function(){function t(t){this.closed=!1,this._parent=null,this._parents=null,this._subscriptions=null,t&&(this._unsubscribe=t)}var e;return t.prototype.unsubscribe=function(){var t,e=!1;if(!this.closed){var r=this._parent,n=this._parents,i=this._unsubscribe,o=this._subscriptions;this.closed=!0,this._parent=null,this._parents=null,this._subscriptions=null;for(var c,a=-1,u=n?n.length:0;r;)r.remove(this),r=++a<u&&n[a]||null;if(s(i))try{i.call(this)}catch(r){e=!0,t=r instanceof d?f(r.errors):[r]}if(h(o))for(a=-1,u=o.length;++a<u;){var l=o[a];if(null!==(c=l)&&"object"==typeof c)try{l.unsubscribe()}catch(r){e=!0,t=t||[],r instanceof d?t=t.concat(f(r.errors)):t.push(r)}}if(e)throw new d(t)}},t.prototype.add=function(e){var r=e;switch(typeof e){case"function":r=new t(e);case"object":if(r===this||r.closed||"function"!=typeof r.unsubscribe)return r;if(this.closed)return r.unsubscribe(),r;if(!(r instanceof t)){var n=r;(r=new t)._subscriptions=[n]}break;default:if(!e)return t.EMPTY;throw new Error("unrecognized teardown "+e+" added to Subscription.")}if(r._addParent(this)){var i=this._subscriptions;i?i.push(r):this._subscriptions=[r]}return r},t.prototype.remove=function(t){var e=this._subscriptions;if(e){var r=e.indexOf(t);-1!==r&&e.splice(r,1)}},t.prototype._addParent=function(t){var e=this._parent,r=this._parents;return e!==t&&(e?r?-1===r.indexOf(t)&&(r.push(t),!0):(this._parents=[t],!0):(this._parent=t,!0))},t.EMPTY=((e=new t).closed=!0,e),t}();function f(t){return t.reduce(function(t,e){return t.concat(e instanceof d?e.errors:e)},[])}var y="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random(),m=function(t){function e(r,n,i){var o=t.call(this)||this;switch(o.syncErrorValue=null,o.syncErrorThrown=!1,o.syncErrorThrowable=!1,o.isStopped=!1,arguments.length){case 0:o.destination=l;break;case 1:if(!r){o.destination=l;break}if("object"==typeof r){r instanceof e?(o.syncErrorThrowable=r.syncErrorThrowable,o.destination=r,r.add(o)):(o.syncErrorThrowable=!0,o.destination=new _(o,r));break}default:o.syncErrorThrowable=!0,o.destination=new _(o,r,n,i)}return o}return o(e,t),e.prototype[y]=function(){return this},e.create=function(t,r,n){var i=new e(t,r,n);return i.syncErrorThrowable=!1,i},e.prototype.next=function(t){this.isStopped||this._next(t)},e.prototype.error=function(t){this.isStopped||(this.isStopped=!0,this._error(t))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this))},e.prototype._next=function(t){this.destination.next(t)},e.prototype._error=function(t){this.destination.error(t),this.unsubscribe()},e.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},e.prototype._unsubscribeAndRecycle=function(){var t=this._parent,e=this._parents;return this._parent=null,this._parents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parent=t,this._parents=e,this},e}(b),_=function(t){function e(e,r,n,i){var o,c=t.call(this)||this;c._parentSubscriber=e;var a=c;return s(r)?o=r:r&&(o=r.next,n=r.error,i=r.complete,r!==l&&(s((a=Object.create(r)).unsubscribe)&&c.add(a.unsubscribe.bind(a)),a.unsubscribe=c.unsubscribe.bind(c))),c._context=a,c._next=o,c._error=n,c._complete=i,c}return o(e,t),e.prototype.next=function(t){if(!this.isStopped&&this._next){var e=this._parentSubscriber;a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}},e.prototype.error=function(t){if(!this.isStopped){var e=this._parentSubscriber,r=a.useDeprecatedSynchronousErrorHandling;if(this._error)r&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)r?(e.syncErrorValue=t,e.syncErrorThrown=!0):u(t),this.unsubscribe();else{if(this.unsubscribe(),r)throw t;u(t)}}},e.prototype.complete=function(){var t=this;if(!this.isStopped){var e=this._parentSubscriber;if(this._complete){var r=function(){return t._complete.call(t._context)};a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,r),this.unsubscribe()):(this.__tryOrUnsub(r),this.unsubscribe())}else this.unsubscribe()}},e.prototype.__tryOrUnsub=function(t,e){try{t.call(this._context,e)}catch(t){if(this.unsubscribe(),a.useDeprecatedSynchronousErrorHandling)throw t;u(t)}},e.prototype.__tryOrSetError=function(t,e,r){if(!a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,r)}catch(e){return a.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=e,t.syncErrorThrown=!0,!0):(u(e),!0)}return!1},e.prototype._unsubscribe=function(){var t=this._parentSubscriber;this._context=null,this._parentSubscriber=null,t.unsubscribe()},e}(m);var v="function"==typeof Symbol&&Symbol.observable||"@@observable";function E(){}function w(t){return t?1===t.length?t[0]:function(e){return t.reduce(function(t,e){return e(t)},e)}:E}var k=function(){function t(t){this._isScalar=!1,t&&(this._subscribe=t)}return t.prototype.lift=function(e){var r=new t;return r.source=this,r.operator=e,r},t.prototype.subscribe=function(t,e,r){var n=this.operator,i=function(t,e,r){if(t){if(t instanceof m)return t;if(t[y])return t[y]()}return t||e||r?new m(t,e,r):new m(l)}(t,e,r);if(n?i.add(n.call(i,this.source)):i.add(this.source||a.useDeprecatedSynchronousErrorHandling&&!i.syncErrorThrowable?this._subscribe(i):this._trySubscribe(i)),a.useDeprecatedSynchronousErrorHandling&&i.syncErrorThrowable&&(i.syncErrorThrowable=!1,i.syncErrorThrown))throw i.syncErrorValue;return i},t.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(e){a.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),!function(t){for(;t;){var e=t,r=e.closed,n=e.destination,i=e.isStopped;if(r||i)return!1;t=n&&n instanceof m?n:null}return!0}(t)?console.warn(e):t.error(e)}},t.prototype.forEach=function(t,e){var r=this;return new(e=S(e))(function(e,n){var i;i=r.subscribe(function(e){try{t(e)}catch(t){n(t),i&&i.unsubscribe()}},n,e)})},t.prototype._subscribe=function(t){var e=this.source;return e&&e.subscribe(t)},t.prototype[v]=function(){return this},t.prototype.pipe=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return 0===t.length?this:w(t)(this)},t.prototype.toPromise=function(t){var e=this;return new(t=S(t))(function(t,r){var n;e.subscribe(function(t){return n=t},function(t){return r(t)},function(){return t(n)})})},t.create=function(e){return new t(e)},t}();function S(t){if(t||(t=a.Promise||Promise),!t)throw new Error("no Promise impl found");return t}function j(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}j.prototype=Object.create(Error.prototype);var g=j,T=function(t){function e(e,r){var n=t.call(this)||this;return n.subject=e,n.subscriber=r,n.closed=!1,n}return o(e,t),e.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var t=this.subject,e=t.observers;if(this.subject=null,e&&0!==e.length&&!t.isStopped&&!t.closed){var r=e.indexOf(this.subscriber);-1!==r&&e.splice(r,1)}}},e}(b),x=function(t){function e(e){var r=t.call(this,e)||this;return r.destination=e,r}return o(e,t),e}(m),P=function(t){function e(){var e=t.call(this)||this;return e.observers=[],e.closed=!1,e.isStopped=!1,e.hasError=!1,e.thrownError=null,e}return o(e,t),e.prototype[y]=function(){return new x(this)},e.prototype.lift=function(t){var e=new H(this,this);return e.operator=t,e},e.prototype.next=function(t){if(this.closed)throw new g;if(!this.isStopped)for(var e=this.observers,r=e.length,n=e.slice(),i=0;i<r;i++)n[i].next(t)},e.prototype.error=function(t){if(this.closed)throw new g;this.hasError=!0,this.thrownError=t,this.isStopped=!0;for(var e=this.observers,r=e.length,n=e.slice(),i=0;i<r;i++)n[i].error(t);this.observers.length=0},e.prototype.complete=function(){if(this.closed)throw new g;this.isStopped=!0;for(var t=this.observers,e=t.length,r=t.slice(),n=0;n<e;n++)r[n].complete();this.observers.length=0},e.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},e.prototype._trySubscribe=function(e){if(this.closed)throw new g;return t.prototype._trySubscribe.call(this,e)},e.prototype._subscribe=function(t){if(this.closed)throw new g;return this.hasError?(t.error(this.thrownError),b.EMPTY):this.isStopped?(t.complete(),b.EMPTY):(this.observers.push(t),new T(this,t))},e.prototype.asObservable=function(){var t=new k;return t.source=this,t},e.create=function(t,e){return new H(t,e)},e}(k),H=function(t){function e(e,r){var n=t.call(this)||this;return n.destination=e,n.source=r,n}return o(e,t),e.prototype.next=function(t){var e=this.destination;e&&e.next&&e.next(t)},e.prototype.error=function(t){var e=this.destination;e&&e.error&&this.destination.error(t)},e.prototype.complete=function(){var t=this.destination;t&&t.complete&&this.destination.complete()},e.prototype._subscribe=function(t){return this.source?this.source.subscribe(t):b.EMPTY},e}(P);const z=document.createElement("div");z.className="container",document.body.appendChild(z);const O=new class{constructor(t,e){this.naziv=t,this.roditelj=e,this.mainSubject$=null,this.cooling$=null,this.reaktori=[],this.reactors=null,this.konzola=null,this.PrikaziKontrolu(),this.PrikaziReaktorPlaceholder()}InicijalizacijaReaktora(){for(let t=0;t<4;t++){const e=Math.random()+1;this.reaktori===[]?this.reaktori.push(new n(t,e.toFixed(1),this.mainSubject$,this.cooling$)):this.reaktori[t]=new n(t,e.toFixed(1),this.mainSubject$,this.cooling$)}}PrikaziKontrolu(){const t=document.createElement("div");t.className="side",this.roditelj.appendChild(t);const e=document.createElement("label");e.innerHTML="Sifra radnika: ",t.appendChild(e);const r=document.createElement("input");r.className="sifraRadnika",t.appendChild(r);const n=document.createElement("div");n.className="dugmici",t.appendChild(n);const i=document.createElement("button");i.innerHTML="Pokreni",i.className="pokreni",i.onclick=(t=>this.pokreniElektranu(t)),n.appendChild(i);const o=document.createElement("button");o.innerHTML="Iskljuci",o.disabled=!0,o.onclick=(t=>this.iskljuciElektranu(t)),o.className="iskljuci",n.appendChild(o),this.konzola=document.createElement("textarea"),this.konzola.className="konzola",t.appendChild(this.konzola)}PrikaziReaktorPlaceholder(){this.reactors=document.createElement("div"),this.reactors.className="reactors",this.roditelj.appendChild(this.reactors)}pokreniElektranu(t){const e=document.querySelector(".sifraRadnika");fetch(`http://localhost:3000/radnici/${e.value}`).then(e=>{e.ok?(this.mainSubject$=new P,this.cooling$=new P,this.InicijalizacijaReaktora(),this.PrikaziReaktore(),t.target.disabled=!0,document.querySelector(".iskljuci").disabled=!1,e.json().then(t=>this.konzola.innerHTML+=`Pokretanje od strane radnika ${t.ime} ${t.prezime} `+"&#13;&#10")):this.konzola.innerHTML+="Doslo je do greske &#13;&#10"}).catch(t=>console.log(t))}iskljuciElektranu(t){t.target.disabled=!0,this.reactors.style.display="none",this.PrikaziReaktorPlaceholder(),document.querySelector(".pokreni").disabled=!1}PrikaziReaktore(){this.reaktori.map((t,e)=>{let r=document.createElement("div");r.className="reactor",this.reactors.appendChild(r),this.PrikaziReaktor(t,r,e)})}PrikaziReaktor(t,e,r){let n=document.createElement("div");n.className="skala",e.appendChild(n);let i=document.createElement("div");i.className="popuna",n.appendChild(i);let o=document.createElement("div");o.className="plusMinus",e.appendChild(o);let s=document.createElement("label");s.innerHTML="Snaga: ",o.appendChild(s);let c=document.createElement("label");c.innerHTML=t.iskoriscenost,c.className="iznos",o.appendChild(c);let a=document.createElement("button");a.value=r,a.innerHTML="+",a.onclick=(t=>this.cooling$.next(t.value)),o.appendChild(a);let u=document.createElement("button");u.value=-r,u.innerHTML="-",u.onclick=(t=>this.cooling$.next(t.value)),o.appendChild(u);let l=document.createElement("div");l.className="plusMinus",e.appendChild(l);let h=document.createElement("label");h.innerHTML="Hladjenje: ",l.appendChild(h);let p=document.createElement("label");p.innerHTML=t.iskoriscenost,p.className="iznos",l.appendChild(p);let d=document.createElement("button");d.innerHTML="+",l.appendChild(d);let b=document.createElement("button");b.innerHTML="-",l.appendChild(b)}}("Cernobil",z);console.log(O)}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL3JlYWt0b3IuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3RzbGliL3RzbGliLmVzNi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC91dGlsL2lzRnVuY3Rpb24uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvY29uZmlnLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL3V0aWwvaG9zdFJlcG9ydEVycm9yLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL09ic2VydmVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL3V0aWwvaXNBcnJheS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC91dGlsL1Vuc3Vic2NyaXB0aW9uRXJyb3IuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvU3Vic2NyaXB0aW9uLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL3V0aWwvaXNPYmplY3QuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvc3ltYm9sL3J4U3Vic2NyaWJlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9TdWJzY3JpYmVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL3N5bWJvbC9vYnNlcnZhYmxlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL3V0aWwvbm9vcC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC91dGlsL3BpcGUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvT2JzZXJ2YWJsZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC91dGlsL3RvU3Vic2NyaWJlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC91dGlsL2NhblJlcG9ydEVycm9yLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL3V0aWwvT2JqZWN0VW5zdWJzY3JpYmVkRXJyb3IuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvU3ViamVjdFN1YnNjcmlwdGlvbi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9TdWJqZWN0LmpzIiwid2VicGFjazovLy8uL3NyYy9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvZWxla3RyYW5hLmpzIl0sIm5hbWVzIjpbImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJleHBvcnRzIiwibW9kdWxlIiwiaSIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJ0IiwibW9kZSIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwiUmVha3RvciIsIltvYmplY3QgT2JqZWN0XSIsImlkIiwia2FwYWNpdGV0IiwicG93ZXIkIiwiY29vbGluZyQiLCJ0aGlzIiwiaXNrb3Jpc2Nlbm9zdCIsInRlbXBlcmF0dXJhIiwib3NsdXNrdWoiLCJzdWJzY3JpYmUiLCJwcm9tZW5pSGxhZGplbmplIiwiaXpyYWN1bmFqVGVtcGVyYXR1cnUiLCJpbmRleCIsImhsYWRqZW5qZSIsImNvbnNvbGUiLCJsb2ciLCJ0ZW1lcHJhdHVyYSIsInRvRml4ZWQiLCJleHRlbmRTdGF0aWNzIiwiYiIsInNldFByb3RvdHlwZU9mIiwiX19wcm90b19fIiwiQXJyYXkiLCJfX2V4dGVuZHMiLCJfXyIsImNvbnN0cnVjdG9yIiwiaXNGdW5jdGlvbiIsIngiLCJfZW5hYmxlX3N1cGVyX2dyb3NzX21vZGVfdGhhdF93aWxsX2NhdXNlX2JhZF90aGluZ3MiLCJjb25maWciLCJQcm9taXNlIiwidW5kZWZpbmVkIiwidXNlRGVwcmVjYXRlZFN5bmNocm9ub3VzRXJyb3JIYW5kbGluZyIsIkVycm9yIiwic3RhY2siLCJob3N0UmVwb3J0RXJyb3IiLCJlcnIiLCJzZXRUaW1lb3V0IiwiZW1wdHkiLCJjbG9zZWQiLCJuZXh0IiwiZXJyb3IiLCJjb21wbGV0ZSIsImlzQXJyYXkiLCJsZW5ndGgiLCJVbnN1YnNjcmlwdGlvbkVycm9ySW1wbCIsImVycm9ycyIsIm1lc3NhZ2UiLCJtYXAiLCJ0b1N0cmluZyIsImpvaW4iLCJVbnN1YnNjcmlwdGlvbkVycm9yIiwiU3Vic2NyaXB0aW9uX1N1YnNjcmlwdGlvbiIsIlN1YnNjcmlwdGlvbiIsInVuc3Vic2NyaWJlIiwiX3BhcmVudCIsIl9wYXJlbnRzIiwiX3N1YnNjcmlwdGlvbnMiLCJfdW5zdWJzY3JpYmUiLCJoYXNFcnJvcnMiLCJsZW4iLCJyZW1vdmUiLCJlIiwiZmxhdHRlblVuc3Vic2NyaXB0aW9uRXJyb3JzIiwic3ViIiwiY29uY2F0IiwicHVzaCIsImFkZCIsInRlYXJkb3duIiwic3Vic2NyaXB0aW9uIiwidG1wIiwiRU1QVFkiLCJfYWRkUGFyZW50Iiwic3Vic2NyaXB0aW9ucyIsInN1YnNjcmlwdGlvbkluZGV4IiwiaW5kZXhPZiIsInNwbGljZSIsInBhcmVudCIsInJlZHVjZSIsImVycnMiLCJyeFN1YnNjcmliZXIiLCJNYXRoIiwicmFuZG9tIiwiU3Vic2NyaWJlcl9TdWJzY3JpYmVyIiwiX3N1cGVyIiwiU3Vic2NyaWJlciIsImRlc3RpbmF0aW9uT3JOZXh0IiwiX3RoaXMiLCJzeW5jRXJyb3JWYWx1ZSIsInN5bmNFcnJvclRocm93biIsInN5bmNFcnJvclRocm93YWJsZSIsImlzU3RvcHBlZCIsImFyZ3VtZW50cyIsImRlc3RpbmF0aW9uIiwiU3Vic2NyaWJlcl9TYWZlU3Vic2NyaWJlciIsInN1YnNjcmliZXIiLCJfbmV4dCIsIl9lcnJvciIsIl9jb21wbGV0ZSIsIl91bnN1YnNjcmliZUFuZFJlY3ljbGUiLCJTYWZlU3Vic2NyaWJlciIsIl9wYXJlbnRTdWJzY3JpYmVyIiwib2JzZXJ2ZXJPck5leHQiLCJjb250ZXh0IiwiX2NvbnRleHQiLCJfX3RyeU9yU2V0RXJyb3IiLCJfX3RyeU9yVW5zdWIiLCJ3cmFwcGVkQ29tcGxldGUiLCJmbiIsIm9ic2VydmFibGVfb2JzZXJ2YWJsZSIsIm9ic2VydmFibGUiLCJub29wIiwicGlwZUZyb21BcnJheSIsImZucyIsImlucHV0IiwicHJldiIsIk9ic2VydmFibGVfT2JzZXJ2YWJsZSIsIk9ic2VydmFibGUiLCJfaXNTY2FsYXIiLCJfc3Vic2NyaWJlIiwibGlmdCIsIm9wZXJhdG9yIiwic291cmNlIiwic2luayIsIm5leHRPck9ic2VydmVyIiwidG9TdWJzY3JpYmVyIiwiX3RyeVN1YnNjcmliZSIsIm9ic2VydmVyIiwiX2EiLCJjbG9zZWRfMSIsImNhblJlcG9ydEVycm9yIiwid2FybiIsImZvckVhY2giLCJwcm9taXNlQ3RvciIsImdldFByb21pc2VDdG9yIiwicmVzb2x2ZSIsInJlamVjdCIsInBpcGUiLCJvcGVyYXRpb25zIiwiX2kiLCJ0b1Byb21pc2UiLCJPYmplY3RVbnN1YnNjcmliZWRFcnJvckltcGwiLCJPYmplY3RVbnN1YnNjcmliZWRFcnJvciIsIlN1YmplY3RTdWJzY3JpcHRpb25fU3ViamVjdFN1YnNjcmlwdGlvbiIsIlN1YmplY3RTdWJzY3JpcHRpb24iLCJzdWJqZWN0Iiwib2JzZXJ2ZXJzIiwic3Vic2NyaWJlckluZGV4IiwiU3ViamVjdF9TdWJqZWN0U3Vic2NyaWJlciIsIlN1YmplY3RTdWJzY3JpYmVyIiwiU3ViamVjdF9TdWJqZWN0IiwiU3ViamVjdCIsImhhc0Vycm9yIiwidGhyb3duRXJyb3IiLCJTdWJqZWN0X0Fub255bW91c1N1YmplY3QiLCJjb3B5Iiwic2xpY2UiLCJhc09ic2VydmFibGUiLCJBbm9ueW1vdXNTdWJqZWN0IiwidmlldyIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsImNsYXNzTmFtZSIsImJvZHkiLCJhcHBlbmRDaGlsZCIsImVsZWt0cmFuYSIsIm5heml2Iiwicm9kaXRlbGoiLCJtYWluU3ViamVjdCQiLCJyZWFrdG9yaSIsInJlYWN0b3JzIiwia29uem9sYSIsIlByaWthemlLb250cm9sdSIsIlByaWthemlSZWFrdG9yUGxhY2Vob2xkZXIiLCJzaWRlIiwic2lmcmFMYmwiLCJpbm5lckhUTUwiLCJzaWZyYVR4dCIsImR1Z21pY2kiLCJwb2tyZW5pIiwib25jbGljayIsImV2IiwicG9rcmVuaUVsZWt0cmFudSIsImlza2xqdWNpIiwiZGlzYWJsZWQiLCJpc2tsanVjaUVsZWt0cmFudSIsInRla3NQb2xqZSIsInF1ZXJ5U2VsZWN0b3IiLCJmZXRjaCIsInRoZW4iLCJyYWRuaWsiLCJvayIsIkluaWNpamFsaXphY2lqYVJlYWt0b3JhIiwiUHJpa2F6aVJlYWt0b3JlIiwidGFyZ2V0IiwianNvbiIsInJleiIsImltZSIsInByZXppbWUiLCJjYXRjaCIsInN0eWxlIiwiZGlzcGxheSIsInJlYWt0b3IiLCJyZWFrdENvbnQiLCJQcmlrYXppUmVha3RvciIsImNvbnRhaW5lciIsInNrYWxhIiwicG9wdW5hIiwic25hZ2EiLCJzbmFnYUxibCIsIml6bm9zU25hZ2UiLCJzbmFnYUJ0blBsdXMiLCJzbmFnYUJ0bk1pbnVzIiwiaGxhZGoiLCJobGFkakxibCIsIml6bm9zSGxhZGoiLCJobGFkakJ0blBsdXMiLCJobGFkakJ0bk1pbnVzIl0sIm1hcHBpbmdzIjoiYUFDQSxJQUFBQSxFQUFBLEdBR0EsU0FBQUMsRUFBQUMsR0FHQSxHQUFBRixFQUFBRSxHQUNBLE9BQUFGLEVBQUFFLEdBQUFDLFFBR0EsSUFBQUMsRUFBQUosRUFBQUUsR0FBQSxDQUNBRyxFQUFBSCxFQUNBSSxHQUFBLEVBQ0FILFFBQUEsSUFVQSxPQU5BSSxFQUFBTCxHQUFBTSxLQUFBSixFQUFBRCxRQUFBQyxJQUFBRCxRQUFBRixHQUdBRyxFQUFBRSxHQUFBLEVBR0FGLEVBQUFELFFBS0FGLEVBQUFRLEVBQUFGLEVBR0FOLEVBQUFTLEVBQUFWLEVBR0FDLEVBQUFVLEVBQUEsU0FBQVIsRUFBQVMsRUFBQUMsR0FDQVosRUFBQWEsRUFBQVgsRUFBQVMsSUFDQUcsT0FBQUMsZUFBQWIsRUFBQVMsRUFBQSxDQUEwQ0ssWUFBQSxFQUFBQyxJQUFBTCxLQUsxQ1osRUFBQWtCLEVBQUEsU0FBQWhCLEdBQ0Esb0JBQUFpQixlQUFBQyxhQUNBTixPQUFBQyxlQUFBYixFQUFBaUIsT0FBQUMsWUFBQSxDQUF3REMsTUFBQSxXQUV4RFAsT0FBQUMsZUFBQWIsRUFBQSxjQUFpRG1CLE9BQUEsS0FRakRyQixFQUFBc0IsRUFBQSxTQUFBRCxFQUFBRSxHQUVBLEdBREEsRUFBQUEsSUFBQUYsRUFBQXJCLEVBQUFxQixJQUNBLEVBQUFFLEVBQUEsT0FBQUYsRUFDQSxLQUFBRSxHQUFBLGlCQUFBRixRQUFBRyxXQUFBLE9BQUFILEVBQ0EsSUFBQUksRUFBQVgsT0FBQVksT0FBQSxNQUdBLEdBRkExQixFQUFBa0IsRUFBQU8sR0FDQVgsT0FBQUMsZUFBQVUsRUFBQSxXQUF5Q1QsWUFBQSxFQUFBSyxVQUN6QyxFQUFBRSxHQUFBLGlCQUFBRixFQUFBLFFBQUFNLEtBQUFOLEVBQUFyQixFQUFBVSxFQUFBZSxFQUFBRSxF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QUFoRCxVQUFBLFFBQ0E4QyxFQUFBNUMsWUFBQThDLEdBRUEsSUFBQUMsRUFBQW5ELFNBQUFDLGNBQUEsVUFDQWtELEVBQUFuTyxNQUFBNEIsRUFDQXVNLEVBQUFuQyxVQUFBLElBQ0FtQyxFQUFBL0IsUUFBQSxDQUFBdEgsR0FBQXpELEtBQUFELFNBQUFvQyxLQUFBc0IsRUFBQTlFLFFBQ0FnTyxFQUFBNUMsWUFBQStDLEdBRUEsSUFBQUMsRUFBQXBELFNBQUFDLGNBQUEsVUFDQW1ELEVBQUFwTyxPQUFBNEIsRUFDQXdNLEVBQUFwQyxVQUFBLElBQ0FvQyxFQUFBaEMsUUFBQSxDQUFBdEgsR0FBQXpELEtBQUFELFNBQUFvQyxLQUFBc0IsRUFBQTlFLFFBQ0FnTyxFQUFBNUMsWUFBQWdELEdBRUEsSUFBQUMsRUFBQXJELFNBQUFDLGNBQUEsT0FDQW9ELEVBQUFuRCxVQUFBLFlBQ0EyQyxFQUFBekMsWUFBQWlELEdBRUEsSUFBQUMsRUFBQXRELFNBQUFDLGNBQUEsU0FDQXFELEVBQUF0QyxVQUFBLGNBQ0FxQyxFQUFBakQsWUFBQWtELEdBRUEsSUFBQUMsRUFBQXZELFNBQUFDLGNBQUEsU0FDQXNELEVBQUF2QyxVQUFBMEIsRUFBQXBNLGNBQ0FpTixFQUFBckQsVUFBQSxRQUNBbUQsRUFBQWpELFlBQUFtRCxHQUVBLElBQUFDLEVBQUF4RCxTQUFBQyxjQUFBLFVBQ0F1RCxFQUFBeEMsVUFBQSxJQUNBcUMsRUFBQWpELFlBQUFvRCxHQUVBLElBQUFDLEVBQUF6RCxTQUFBQyxjQUFBLFVBQ0F3RCxFQUFBekMsVUFBQSxJQUNBcUMsRUFBQWpELFlBQUFxRCxLRDFLK0IsV0FBQTFELEdBQy9CakosUUFBQUMsSUFBQXNKIiwiZmlsZSI6ImJ1bmRsZS5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSAxKTtcbiIsImltcG9ydCB7IE9ic2VydmFibGUgfSBmcm9tIFwicnhqc1wiO1xyXG5cclxuZXhwb3J0IGNsYXNzIFJlYWt0b3J7XHJcbiAgICBjb25zdHJ1Y3RvcihpZCwga2FwYWNpdGV0LCBwb3dlciQsIGNvb2xpbmckKXtcclxuICAgICAgICB0aGlzLmthcGFjaXRldCA9IGthcGFjaXRldDtcclxuICAgICAgICB0aGlzLmlkID0gaWQ7XHJcblxyXG4gICAgICAgIHRoaXMuaXNrb3Jpc2Nlbm9zdCA9IDUwOyBcclxuICAgICAgICB0aGlzLnRlbXBlcmF0dXJhID0gMTAwO1xyXG4gICAgICAgXHJcbiAgICAgICAgdGhpcy5wb3dlciQgPSBwb3dlciQ7XHJcbiAgICAgICAgdGhpcy5jb29saW5nJCA9IGNvb2xpbmckO1xyXG5cclxuICAgICAgICB0aGlzLm9zbHVza3VqKCk7XHJcbiAgICB9XHJcblxyXG4gICAgb3NsdXNrdWooKXtcclxuICAgICAgICB0aGlzLmNvb2xpbmckLnN1YnNjcmliZSh2YWx1ZSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMucHJvbWVuaUhsYWRqZW5qZSh2YWx1ZSk7XHJcbiAgICAgICAgICAgIHRoaXMuaXpyYWN1bmFqVGVtcGVyYXR1cnUoKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBwcm9tZW5pSGxhZGplbmplKGluZGV4KXtcclxuICAgICAgICBpZihpbmRleCA9PT0gdGhpcy5pZCl7XHJcbiAgICAgICAgICAgIHRoaXMuaGxhZGplbmplKys7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGBIbGFkamVuamUgcmVha3RvcmEgJHt0aGlzLmlkfSBzZSBwb3ZlY2F2YWApO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNle1xyXG4gICAgICAgICAgICB0aGlzLmhsYWRqZW5qZS0tO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhgSGxhZGplbmplIHJlYWt0b3JhICR7dGhpcy5pZH0gc2Ugc21hbmp1amVgKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBcclxuICAgIH1cclxuXHJcbiAgICBpenJhY3VuYWpUZW1wZXJhdHVydSgpe1xyXG4gICAgICAgIHRoaXMudGVtZXByYXR1cmEgPSAxMDAgKyB0aGlzLmthcGFjaXRldCAqIHRoaXMuaXNrb3Jpc2Nlbm9zdC90aGlzLmhsYWRqZW5qZSAqIDEwO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGBUZW1wZXJhdHVyYSByZWFrdG9yYSAke3RoaXMuaWR9IGplICR7dGhpcy50ZW1lcHJhdHVyYX1gKTtcclxuICAgICAgICBcclxuICAgIH1cclxuXHJcbiAgICBpenJhY3VuYWpJemxhem51U25hZ3UoKXtcclxuICAgICAgICByZXR1cm4gKGthcGFjaXRldC9pc2tvcmlzY2Vub3N0KS50b0ZpeGVkKDIpO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICBcclxufSIsIi8qISAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG5Db3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cclxuTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTsgeW91IG1heSBub3QgdXNlXHJcbnRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlXHJcbkxpY2Vuc2UgYXQgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcblxyXG5USElTIENPREUgSVMgUFJPVklERUQgT04gQU4gKkFTIElTKiBCQVNJUywgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZXHJcbktJTkQsIEVJVEhFUiBFWFBSRVNTIE9SIElNUExJRUQsIElOQ0xVRElORyBXSVRIT1VUIExJTUlUQVRJT04gQU5ZIElNUExJRURcclxuV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIFRJVExFLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSxcclxuTUVSQ0hBTlRBQkxJVFkgT1IgTk9OLUlORlJJTkdFTUVOVC5cclxuXHJcblNlZSB0aGUgQXBhY2hlIFZlcnNpb24gMi4wIExpY2Vuc2UgZm9yIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9uc1xyXG5hbmQgbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICovXHJcbi8qIGdsb2JhbCBSZWZsZWN0LCBQcm9taXNlICovXHJcblxyXG52YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uKGQsIGIpIHtcclxuICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XHJcbiAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XHJcbiAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxufTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2V4dGVuZHMoZCwgYikge1xyXG4gICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG4gICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG59XHJcblxyXG5leHBvcnQgdmFyIF9fYXNzaWduID0gZnVuY3Rpb24oKSB7XHJcbiAgICBfX2Fzc2lnbiA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gX19hc3NpZ24odCkge1xyXG4gICAgICAgIGZvciAodmFyIHMsIGkgPSAxLCBuID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IG47IGkrKykge1xyXG4gICAgICAgICAgICBzID0gYXJndW1lbnRzW2ldO1xyXG4gICAgICAgICAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkpIHRbcF0gPSBzW3BdO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdDtcclxuICAgIH1cclxuICAgIHJldHVybiBfX2Fzc2lnbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19yZXN0KHMsIGUpIHtcclxuICAgIHZhciB0ID0ge307XHJcbiAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkgJiYgZS5pbmRleE9mKHApIDwgMClcclxuICAgICAgICB0W3BdID0gc1twXTtcclxuICAgIGlmIChzICE9IG51bGwgJiYgdHlwZW9mIE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMgPT09IFwiZnVuY3Rpb25cIilcclxuICAgICAgICBmb3IgKHZhciBpID0gMCwgcCA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMocyk7IGkgPCBwLmxlbmd0aDsgaSsrKSBpZiAoZS5pbmRleE9mKHBbaV0pIDwgMClcclxuICAgICAgICAgICAgdFtwW2ldXSA9IHNbcFtpXV07XHJcbiAgICByZXR1cm4gdDtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fZGVjb3JhdGUoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpIHtcclxuICAgIHZhciBjID0gYXJndW1lbnRzLmxlbmd0aCwgciA9IGMgPCAzID8gdGFyZ2V0IDogZGVzYyA9PT0gbnVsbCA/IGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHRhcmdldCwga2V5KSA6IGRlc2MsIGQ7XHJcbiAgICBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIFJlZmxlY3QuZGVjb3JhdGUgPT09IFwiZnVuY3Rpb25cIikgciA9IFJlZmxlY3QuZGVjb3JhdGUoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpO1xyXG4gICAgZWxzZSBmb3IgKHZhciBpID0gZGVjb3JhdG9ycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkgaWYgKGQgPSBkZWNvcmF0b3JzW2ldKSByID0gKGMgPCAzID8gZChyKSA6IGMgPiAzID8gZCh0YXJnZXQsIGtleSwgcikgOiBkKHRhcmdldCwga2V5KSkgfHwgcjtcclxuICAgIHJldHVybiBjID4gMyAmJiByICYmIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgciksIHI7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3BhcmFtKHBhcmFtSW5kZXgsIGRlY29yYXRvcikge1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uICh0YXJnZXQsIGtleSkgeyBkZWNvcmF0b3IodGFyZ2V0LCBrZXksIHBhcmFtSW5kZXgpOyB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX21ldGFkYXRhKG1ldGFkYXRhS2V5LCBtZXRhZGF0YVZhbHVlKSB7XHJcbiAgICBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIFJlZmxlY3QubWV0YWRhdGEgPT09IFwiZnVuY3Rpb25cIikgcmV0dXJuIFJlZmxlY3QubWV0YWRhdGEobWV0YWRhdGFLZXksIG1ldGFkYXRhVmFsdWUpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hd2FpdGVyKHRoaXNBcmcsIF9hcmd1bWVudHMsIFAsIGdlbmVyYXRvcikge1xyXG4gICAgcmV0dXJuIG5ldyAoUCB8fCAoUCA9IFByb21pc2UpKShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XHJcbiAgICAgICAgZnVuY3Rpb24gZnVsZmlsbGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxyXG4gICAgICAgIGZ1bmN0aW9uIHJlamVjdGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yW1widGhyb3dcIl0odmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxyXG4gICAgICAgIGZ1bmN0aW9uIHN0ZXAocmVzdWx0KSB7IHJlc3VsdC5kb25lID8gcmVzb2x2ZShyZXN1bHQudmFsdWUpIDogbmV3IFAoZnVuY3Rpb24gKHJlc29sdmUpIHsgcmVzb2x2ZShyZXN1bHQudmFsdWUpOyB9KS50aGVuKGZ1bGZpbGxlZCwgcmVqZWN0ZWQpOyB9XHJcbiAgICAgICAgc3RlcCgoZ2VuZXJhdG9yID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pKS5uZXh0KCkpO1xyXG4gICAgfSk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2dlbmVyYXRvcih0aGlzQXJnLCBib2R5KSB7XHJcbiAgICB2YXIgXyA9IHsgbGFiZWw6IDAsIHNlbnQ6IGZ1bmN0aW9uKCkgeyBpZiAodFswXSAmIDEpIHRocm93IHRbMV07IHJldHVybiB0WzFdOyB9LCB0cnlzOiBbXSwgb3BzOiBbXSB9LCBmLCB5LCB0LCBnO1xyXG4gICAgcmV0dXJuIGcgPSB7IG5leHQ6IHZlcmIoMCksIFwidGhyb3dcIjogdmVyYigxKSwgXCJyZXR1cm5cIjogdmVyYigyKSB9LCB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgKGdbU3ltYm9sLml0ZXJhdG9yXSA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gdGhpczsgfSksIGc7XHJcbiAgICBmdW5jdGlvbiB2ZXJiKG4pIHsgcmV0dXJuIGZ1bmN0aW9uICh2KSB7IHJldHVybiBzdGVwKFtuLCB2XSk7IH07IH1cclxuICAgIGZ1bmN0aW9uIHN0ZXAob3ApIHtcclxuICAgICAgICBpZiAoZikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkdlbmVyYXRvciBpcyBhbHJlYWR5IGV4ZWN1dGluZy5cIik7XHJcbiAgICAgICAgd2hpbGUgKF8pIHRyeSB7XHJcbiAgICAgICAgICAgIGlmIChmID0gMSwgeSAmJiAodCA9IG9wWzBdICYgMiA/IHlbXCJyZXR1cm5cIl0gOiBvcFswXSA/IHlbXCJ0aHJvd1wiXSB8fCAoKHQgPSB5W1wicmV0dXJuXCJdKSAmJiB0LmNhbGwoeSksIDApIDogeS5uZXh0KSAmJiAhKHQgPSB0LmNhbGwoeSwgb3BbMV0pKS5kb25lKSByZXR1cm4gdDtcclxuICAgICAgICAgICAgaWYgKHkgPSAwLCB0KSBvcCA9IFtvcFswXSAmIDIsIHQudmFsdWVdO1xyXG4gICAgICAgICAgICBzd2l0Y2ggKG9wWzBdKSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDA6IGNhc2UgMTogdCA9IG9wOyBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgNDogXy5sYWJlbCsrOyByZXR1cm4geyB2YWx1ZTogb3BbMV0sIGRvbmU6IGZhbHNlIH07XHJcbiAgICAgICAgICAgICAgICBjYXNlIDU6IF8ubGFiZWwrKzsgeSA9IG9wWzFdOyBvcCA9IFswXTsgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDc6IG9wID0gXy5vcHMucG9wKCk7IF8udHJ5cy5wb3AoKTsgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgICAgIGlmICghKHQgPSBfLnRyeXMsIHQgPSB0Lmxlbmd0aCA+IDAgJiYgdFt0Lmxlbmd0aCAtIDFdKSAmJiAob3BbMF0gPT09IDYgfHwgb3BbMF0gPT09IDIpKSB7IF8gPSAwOyBjb250aW51ZTsgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChvcFswXSA9PT0gMyAmJiAoIXQgfHwgKG9wWzFdID4gdFswXSAmJiBvcFsxXSA8IHRbM10pKSkgeyBfLmxhYmVsID0gb3BbMV07IGJyZWFrOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wWzBdID09PSA2ICYmIF8ubGFiZWwgPCB0WzFdKSB7IF8ubGFiZWwgPSB0WzFdOyB0ID0gb3A7IGJyZWFrOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHQgJiYgXy5sYWJlbCA8IHRbMl0pIHsgXy5sYWJlbCA9IHRbMl07IF8ub3BzLnB1c2gob3ApOyBicmVhazsgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0WzJdKSBfLm9wcy5wb3AoKTtcclxuICAgICAgICAgICAgICAgICAgICBfLnRyeXMucG9wKCk7IGNvbnRpbnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIG9wID0gYm9keS5jYWxsKHRoaXNBcmcsIF8pO1xyXG4gICAgICAgIH0gY2F0Y2ggKGUpIHsgb3AgPSBbNiwgZV07IHkgPSAwOyB9IGZpbmFsbHkgeyBmID0gdCA9IDA7IH1cclxuICAgICAgICBpZiAob3BbMF0gJiA1KSB0aHJvdyBvcFsxXTsgcmV0dXJuIHsgdmFsdWU6IG9wWzBdID8gb3BbMV0gOiB2b2lkIDAsIGRvbmU6IHRydWUgfTtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fZXhwb3J0U3RhcihtLCBleHBvcnRzKSB7XHJcbiAgICBmb3IgKHZhciBwIGluIG0pIGlmICghZXhwb3J0cy5oYXNPd25Qcm9wZXJ0eShwKSkgZXhwb3J0c1twXSA9IG1bcF07XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3ZhbHVlcyhvKSB7XHJcbiAgICB2YXIgbSA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvW1N5bWJvbC5pdGVyYXRvcl0sIGkgPSAwO1xyXG4gICAgaWYgKG0pIHJldHVybiBtLmNhbGwobyk7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgIG5leHQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgaWYgKG8gJiYgaSA+PSBvLmxlbmd0aCkgbyA9IHZvaWQgMDtcclxuICAgICAgICAgICAgcmV0dXJuIHsgdmFsdWU6IG8gJiYgb1tpKytdLCBkb25lOiAhbyB9O1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3JlYWQobywgbikge1xyXG4gICAgdmFyIG0gPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb1tTeW1ib2wuaXRlcmF0b3JdO1xyXG4gICAgaWYgKCFtKSByZXR1cm4gbztcclxuICAgIHZhciBpID0gbS5jYWxsKG8pLCByLCBhciA9IFtdLCBlO1xyXG4gICAgdHJ5IHtcclxuICAgICAgICB3aGlsZSAoKG4gPT09IHZvaWQgMCB8fCBuLS0gPiAwKSAmJiAhKHIgPSBpLm5leHQoKSkuZG9uZSkgYXIucHVzaChyLnZhbHVlKTtcclxuICAgIH1cclxuICAgIGNhdGNoIChlcnJvcikgeyBlID0geyBlcnJvcjogZXJyb3IgfTsgfVxyXG4gICAgZmluYWxseSB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgaWYgKHIgJiYgIXIuZG9uZSAmJiAobSA9IGlbXCJyZXR1cm5cIl0pKSBtLmNhbGwoaSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZpbmFsbHkgeyBpZiAoZSkgdGhyb3cgZS5lcnJvcjsgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIGFyO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19zcHJlYWQoKSB7XHJcbiAgICBmb3IgKHZhciBhciA9IFtdLCBpID0gMDsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKylcclxuICAgICAgICBhciA9IGFyLmNvbmNhdChfX3JlYWQoYXJndW1lbnRzW2ldKSk7XHJcbiAgICByZXR1cm4gYXI7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2F3YWl0KHYpIHtcclxuICAgIHJldHVybiB0aGlzIGluc3RhbmNlb2YgX19hd2FpdCA/ICh0aGlzLnYgPSB2LCB0aGlzKSA6IG5ldyBfX2F3YWl0KHYpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hc3luY0dlbmVyYXRvcih0aGlzQXJnLCBfYXJndW1lbnRzLCBnZW5lcmF0b3IpIHtcclxuICAgIGlmICghU3ltYm9sLmFzeW5jSXRlcmF0b3IpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJTeW1ib2wuYXN5bmNJdGVyYXRvciBpcyBub3QgZGVmaW5lZC5cIik7XHJcbiAgICB2YXIgZyA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSwgaSwgcSA9IFtdO1xyXG4gICAgcmV0dXJuIGkgPSB7fSwgdmVyYihcIm5leHRcIiksIHZlcmIoXCJ0aHJvd1wiKSwgdmVyYihcInJldHVyblwiKSwgaVtTeW1ib2wuYXN5bmNJdGVyYXRvcl0gPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9LCBpO1xyXG4gICAgZnVuY3Rpb24gdmVyYihuKSB7IGlmIChnW25dKSBpW25dID0gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChhLCBiKSB7IHEucHVzaChbbiwgdiwgYSwgYl0pID4gMSB8fCByZXN1bWUobiwgdik7IH0pOyB9OyB9XHJcbiAgICBmdW5jdGlvbiByZXN1bWUobiwgdikgeyB0cnkgeyBzdGVwKGdbbl0odikpOyB9IGNhdGNoIChlKSB7IHNldHRsZShxWzBdWzNdLCBlKTsgfSB9XHJcbiAgICBmdW5jdGlvbiBzdGVwKHIpIHsgci52YWx1ZSBpbnN0YW5jZW9mIF9fYXdhaXQgPyBQcm9taXNlLnJlc29sdmUoci52YWx1ZS52KS50aGVuKGZ1bGZpbGwsIHJlamVjdCkgOiBzZXR0bGUocVswXVsyXSwgcik7IH1cclxuICAgIGZ1bmN0aW9uIGZ1bGZpbGwodmFsdWUpIHsgcmVzdW1lKFwibmV4dFwiLCB2YWx1ZSk7IH1cclxuICAgIGZ1bmN0aW9uIHJlamVjdCh2YWx1ZSkgeyByZXN1bWUoXCJ0aHJvd1wiLCB2YWx1ZSk7IH1cclxuICAgIGZ1bmN0aW9uIHNldHRsZShmLCB2KSB7IGlmIChmKHYpLCBxLnNoaWZ0KCksIHEubGVuZ3RoKSByZXN1bWUocVswXVswXSwgcVswXVsxXSk7IH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXN5bmNEZWxlZ2F0b3Iobykge1xyXG4gICAgdmFyIGksIHA7XHJcbiAgICByZXR1cm4gaSA9IHt9LCB2ZXJiKFwibmV4dFwiKSwgdmVyYihcInRocm93XCIsIGZ1bmN0aW9uIChlKSB7IHRocm93IGU7IH0pLCB2ZXJiKFwicmV0dXJuXCIpLCBpW1N5bWJvbC5pdGVyYXRvcl0gPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9LCBpO1xyXG4gICAgZnVuY3Rpb24gdmVyYihuLCBmKSB7IGlbbl0gPSBvW25dID8gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIChwID0gIXApID8geyB2YWx1ZTogX19hd2FpdChvW25dKHYpKSwgZG9uZTogbiA9PT0gXCJyZXR1cm5cIiB9IDogZiA/IGYodikgOiB2OyB9IDogZjsgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hc3luY1ZhbHVlcyhvKSB7XHJcbiAgICBpZiAoIVN5bWJvbC5hc3luY0l0ZXJhdG9yKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3ltYm9sLmFzeW5jSXRlcmF0b3IgaXMgbm90IGRlZmluZWQuXCIpO1xyXG4gICAgdmFyIG0gPSBvW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSwgaTtcclxuICAgIHJldHVybiBtID8gbS5jYWxsKG8pIDogKG8gPSB0eXBlb2YgX192YWx1ZXMgPT09IFwiZnVuY3Rpb25cIiA/IF9fdmFsdWVzKG8pIDogb1tTeW1ib2wuaXRlcmF0b3JdKCksIGkgPSB7fSwgdmVyYihcIm5leHRcIiksIHZlcmIoXCJ0aHJvd1wiKSwgdmVyYihcInJldHVyblwiKSwgaVtTeW1ib2wuYXN5bmNJdGVyYXRvcl0gPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9LCBpKTtcclxuICAgIGZ1bmN0aW9uIHZlcmIobikgeyBpW25dID0gb1tuXSAmJiBmdW5jdGlvbiAodikgeyByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgeyB2ID0gb1tuXSh2KSwgc2V0dGxlKHJlc29sdmUsIHJlamVjdCwgdi5kb25lLCB2LnZhbHVlKTsgfSk7IH07IH1cclxuICAgIGZ1bmN0aW9uIHNldHRsZShyZXNvbHZlLCByZWplY3QsIGQsIHYpIHsgUHJvbWlzZS5yZXNvbHZlKHYpLnRoZW4oZnVuY3Rpb24odikgeyByZXNvbHZlKHsgdmFsdWU6IHYsIGRvbmU6IGQgfSk7IH0sIHJlamVjdCk7IH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fbWFrZVRlbXBsYXRlT2JqZWN0KGNvb2tlZCwgcmF3KSB7XHJcbiAgICBpZiAoT2JqZWN0LmRlZmluZVByb3BlcnR5KSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShjb29rZWQsIFwicmF3XCIsIHsgdmFsdWU6IHJhdyB9KTsgfSBlbHNlIHsgY29va2VkLnJhdyA9IHJhdzsgfVxyXG4gICAgcmV0dXJuIGNvb2tlZDtcclxufTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2ltcG9ydFN0YXIobW9kKSB7XHJcbiAgICBpZiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSByZXR1cm4gbW9kO1xyXG4gICAgdmFyIHJlc3VsdCA9IHt9O1xyXG4gICAgaWYgKG1vZCAhPSBudWxsKSBmb3IgKHZhciBrIGluIG1vZCkgaWYgKE9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKG1vZCwgaykpIHJlc3VsdFtrXSA9IG1vZFtrXTtcclxuICAgIHJlc3VsdC5kZWZhdWx0ID0gbW9kO1xyXG4gICAgcmV0dXJuIHJlc3VsdDtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9faW1wb3J0RGVmYXVsdChtb2QpIHtcclxuICAgIHJldHVybiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSA/IG1vZCA6IHsgZGVmYXVsdDogbW9kIH07XHJcbn1cclxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCAgUFVSRV9JTVBPUlRTX0VORCAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzRnVuY3Rpb24oeCkge1xuICAgIHJldHVybiB0eXBlb2YgeCA9PT0gJ2Z1bmN0aW9uJztcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWlzRnVuY3Rpb24uanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUICBQVVJFX0lNUE9SVFNfRU5EICovXG52YXIgX2VuYWJsZV9zdXBlcl9ncm9zc19tb2RlX3RoYXRfd2lsbF9jYXVzZV9iYWRfdGhpbmdzID0gZmFsc2U7XG5leHBvcnQgdmFyIGNvbmZpZyA9IHtcbiAgICBQcm9taXNlOiB1bmRlZmluZWQsXG4gICAgc2V0IHVzZURlcHJlY2F0ZWRTeW5jaHJvbm91c0Vycm9ySGFuZGxpbmcodmFsdWUpIHtcbiAgICAgICAgaWYgKHZhbHVlKSB7XG4gICAgICAgICAgICB2YXIgZXJyb3IgPSAvKkBfX1BVUkVfXyovIG5ldyBFcnJvcigpO1xuICAgICAgICAgICAgLypAX19QVVJFX18qLyBjb25zb2xlLndhcm4oJ0RFUFJFQ0FURUQhIFJ4SlMgd2FzIHNldCB0byB1c2UgZGVwcmVjYXRlZCBzeW5jaHJvbm91cyBlcnJvciBoYW5kbGluZyBiZWhhdmlvciBieSBjb2RlIGF0OiBcXG4nICsgZXJyb3Iuc3RhY2spO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKF9lbmFibGVfc3VwZXJfZ3Jvc3NfbW9kZV90aGF0X3dpbGxfY2F1c2VfYmFkX3RoaW5ncykge1xuICAgICAgICAgICAgLypAX19QVVJFX18qLyBjb25zb2xlLmxvZygnUnhKUzogQmFjayB0byBhIGJldHRlciBlcnJvciBiZWhhdmlvci4gVGhhbmsgeW91LiA8MycpO1xuICAgICAgICB9XG4gICAgICAgIF9lbmFibGVfc3VwZXJfZ3Jvc3NfbW9kZV90aGF0X3dpbGxfY2F1c2VfYmFkX3RoaW5ncyA9IHZhbHVlO1xuICAgIH0sXG4gICAgZ2V0IHVzZURlcHJlY2F0ZWRTeW5jaHJvbm91c0Vycm9ySGFuZGxpbmcoKSB7XG4gICAgICAgIHJldHVybiBfZW5hYmxlX3N1cGVyX2dyb3NzX21vZGVfdGhhdF93aWxsX2NhdXNlX2JhZF90aGluZ3M7XG4gICAgfSxcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jb25maWcuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUICBQVVJFX0lNUE9SVFNfRU5EICovXG5leHBvcnQgZnVuY3Rpb24gaG9zdFJlcG9ydEVycm9yKGVycikge1xuICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgeyB0aHJvdyBlcnI7IH0pO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aG9zdFJlcG9ydEVycm9yLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCBfY29uZmlnLF91dGlsX2hvc3RSZXBvcnRFcnJvciBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgeyBjb25maWcgfSBmcm9tICcuL2NvbmZpZyc7XG5pbXBvcnQgeyBob3N0UmVwb3J0RXJyb3IgfSBmcm9tICcuL3V0aWwvaG9zdFJlcG9ydEVycm9yJztcbmV4cG9ydCB2YXIgZW1wdHkgPSB7XG4gICAgY2xvc2VkOiB0cnVlLFxuICAgIG5leHQ6IGZ1bmN0aW9uICh2YWx1ZSkgeyB9LFxuICAgIGVycm9yOiBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgIGlmIChjb25maWcudXNlRGVwcmVjYXRlZFN5bmNocm9ub3VzRXJyb3JIYW5kbGluZykge1xuICAgICAgICAgICAgdGhyb3cgZXJyO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaG9zdFJlcG9ydEVycm9yKGVycik7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIGNvbXBsZXRlOiBmdW5jdGlvbiAoKSB7IH1cbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1PYnNlcnZlci5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgIFBVUkVfSU1QT1JUU19FTkQgKi9cbmV4cG9ydCB2YXIgaXNBcnJheSA9IEFycmF5LmlzQXJyYXkgfHwgKGZ1bmN0aW9uICh4KSB7IHJldHVybiB4ICYmIHR5cGVvZiB4Lmxlbmd0aCA9PT0gJ251bWJlcic7IH0pO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aXNBcnJheS5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgIFBVUkVfSU1QT1JUU19FTkQgKi9cbmZ1bmN0aW9uIFVuc3Vic2NyaXB0aW9uRXJyb3JJbXBsKGVycm9ycykge1xuICAgIEVycm9yLmNhbGwodGhpcyk7XG4gICAgdGhpcy5tZXNzYWdlID0gZXJyb3JzID9cbiAgICAgICAgZXJyb3JzLmxlbmd0aCArIFwiIGVycm9ycyBvY2N1cnJlZCBkdXJpbmcgdW5zdWJzY3JpcHRpb246XFxuXCIgKyBlcnJvcnMubWFwKGZ1bmN0aW9uIChlcnIsIGkpIHsgcmV0dXJuIGkgKyAxICsgXCIpIFwiICsgZXJyLnRvU3RyaW5nKCk7IH0pLmpvaW4oJ1xcbiAgJykgOiAnJztcbiAgICB0aGlzLm5hbWUgPSAnVW5zdWJzY3JpcHRpb25FcnJvcic7XG4gICAgdGhpcy5lcnJvcnMgPSBlcnJvcnM7XG4gICAgcmV0dXJuIHRoaXM7XG59XG5VbnN1YnNjcmlwdGlvbkVycm9ySW1wbC5wcm90b3R5cGUgPSAvKkBfX1BVUkVfXyovIE9iamVjdC5jcmVhdGUoRXJyb3IucHJvdG90eXBlKTtcbmV4cG9ydCB2YXIgVW5zdWJzY3JpcHRpb25FcnJvciA9IFVuc3Vic2NyaXB0aW9uRXJyb3JJbXBsO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9VW5zdWJzY3JpcHRpb25FcnJvci5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgX3V0aWxfaXNBcnJheSxfdXRpbF9pc09iamVjdCxfdXRpbF9pc0Z1bmN0aW9uLF91dGlsX1Vuc3Vic2NyaXB0aW9uRXJyb3IgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0IHsgaXNBcnJheSB9IGZyb20gJy4vdXRpbC9pc0FycmF5JztcbmltcG9ydCB7IGlzT2JqZWN0IH0gZnJvbSAnLi91dGlsL2lzT2JqZWN0JztcbmltcG9ydCB7IGlzRnVuY3Rpb24gfSBmcm9tICcuL3V0aWwvaXNGdW5jdGlvbic7XG5pbXBvcnQgeyBVbnN1YnNjcmlwdGlvbkVycm9yIH0gZnJvbSAnLi91dGlsL1Vuc3Vic2NyaXB0aW9uRXJyb3InO1xudmFyIFN1YnNjcmlwdGlvbiA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBTdWJzY3JpcHRpb24odW5zdWJzY3JpYmUpIHtcbiAgICAgICAgdGhpcy5jbG9zZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5fcGFyZW50ID0gbnVsbDtcbiAgICAgICAgdGhpcy5fcGFyZW50cyA9IG51bGw7XG4gICAgICAgIHRoaXMuX3N1YnNjcmlwdGlvbnMgPSBudWxsO1xuICAgICAgICBpZiAodW5zdWJzY3JpYmUpIHtcbiAgICAgICAgICAgIHRoaXMuX3Vuc3Vic2NyaWJlID0gdW5zdWJzY3JpYmU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgU3Vic2NyaXB0aW9uLnByb3RvdHlwZS51bnN1YnNjcmliZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGhhc0Vycm9ycyA9IGZhbHNlO1xuICAgICAgICB2YXIgZXJyb3JzO1xuICAgICAgICBpZiAodGhpcy5jbG9zZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgX2EgPSB0aGlzLCBfcGFyZW50ID0gX2EuX3BhcmVudCwgX3BhcmVudHMgPSBfYS5fcGFyZW50cywgX3Vuc3Vic2NyaWJlID0gX2EuX3Vuc3Vic2NyaWJlLCBfc3Vic2NyaXB0aW9ucyA9IF9hLl9zdWJzY3JpcHRpb25zO1xuICAgICAgICB0aGlzLmNsb3NlZCA9IHRydWU7XG4gICAgICAgIHRoaXMuX3BhcmVudCA9IG51bGw7XG4gICAgICAgIHRoaXMuX3BhcmVudHMgPSBudWxsO1xuICAgICAgICB0aGlzLl9zdWJzY3JpcHRpb25zID0gbnVsbDtcbiAgICAgICAgdmFyIGluZGV4ID0gLTE7XG4gICAgICAgIHZhciBsZW4gPSBfcGFyZW50cyA/IF9wYXJlbnRzLmxlbmd0aCA6IDA7XG4gICAgICAgIHdoaWxlIChfcGFyZW50KSB7XG4gICAgICAgICAgICBfcGFyZW50LnJlbW92ZSh0aGlzKTtcbiAgICAgICAgICAgIF9wYXJlbnQgPSArK2luZGV4IDwgbGVuICYmIF9wYXJlbnRzW2luZGV4XSB8fCBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpc0Z1bmN0aW9uKF91bnN1YnNjcmliZSkpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgX3Vuc3Vic2NyaWJlLmNhbGwodGhpcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgIGhhc0Vycm9ycyA9IHRydWU7XG4gICAgICAgICAgICAgICAgZXJyb3JzID0gZSBpbnN0YW5jZW9mIFVuc3Vic2NyaXB0aW9uRXJyb3IgPyBmbGF0dGVuVW5zdWJzY3JpcHRpb25FcnJvcnMoZS5lcnJvcnMpIDogW2VdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChpc0FycmF5KF9zdWJzY3JpcHRpb25zKSkge1xuICAgICAgICAgICAgaW5kZXggPSAtMTtcbiAgICAgICAgICAgIGxlbiA9IF9zdWJzY3JpcHRpb25zLmxlbmd0aDtcbiAgICAgICAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuKSB7XG4gICAgICAgICAgICAgICAgdmFyIHN1YiA9IF9zdWJzY3JpcHRpb25zW2luZGV4XTtcbiAgICAgICAgICAgICAgICBpZiAoaXNPYmplY3Qoc3ViKSkge1xuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3ViLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGhhc0Vycm9ycyA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBlcnJvcnMgPSBlcnJvcnMgfHwgW107XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZSBpbnN0YW5jZW9mIFVuc3Vic2NyaXB0aW9uRXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlcnJvcnMgPSBlcnJvcnMuY29uY2F0KGZsYXR0ZW5VbnN1YnNjcmlwdGlvbkVycm9ycyhlLmVycm9ycykpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3JzLnB1c2goZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGhhc0Vycm9ycykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFVuc3Vic2NyaXB0aW9uRXJyb3IoZXJyb3JzKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgU3Vic2NyaXB0aW9uLnByb3RvdHlwZS5hZGQgPSBmdW5jdGlvbiAodGVhcmRvd24pIHtcbiAgICAgICAgdmFyIHN1YnNjcmlwdGlvbiA9IHRlYXJkb3duO1xuICAgICAgICBzd2l0Y2ggKHR5cGVvZiB0ZWFyZG93bikge1xuICAgICAgICAgICAgY2FzZSAnZnVuY3Rpb24nOlxuICAgICAgICAgICAgICAgIHN1YnNjcmlwdGlvbiA9IG5ldyBTdWJzY3JpcHRpb24odGVhcmRvd24pO1xuICAgICAgICAgICAgY2FzZSAnb2JqZWN0JzpcbiAgICAgICAgICAgICAgICBpZiAoc3Vic2NyaXB0aW9uID09PSB0aGlzIHx8IHN1YnNjcmlwdGlvbi5jbG9zZWQgfHwgdHlwZW9mIHN1YnNjcmlwdGlvbi51bnN1YnNjcmliZSAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gc3Vic2NyaXB0aW9uO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmICh0aGlzLmNsb3NlZCkge1xuICAgICAgICAgICAgICAgICAgICBzdWJzY3JpcHRpb24udW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHN1YnNjcmlwdGlvbjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoIShzdWJzY3JpcHRpb24gaW5zdGFuY2VvZiBTdWJzY3JpcHRpb24pKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciB0bXAgPSBzdWJzY3JpcHRpb247XG4gICAgICAgICAgICAgICAgICAgIHN1YnNjcmlwdGlvbiA9IG5ldyBTdWJzY3JpcHRpb24oKTtcbiAgICAgICAgICAgICAgICAgICAgc3Vic2NyaXB0aW9uLl9zdWJzY3JpcHRpb25zID0gW3RtcF07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDoge1xuICAgICAgICAgICAgICAgIGlmICghdGVhcmRvd24pIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFN1YnNjcmlwdGlvbi5FTVBUWTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCd1bnJlY29nbml6ZWQgdGVhcmRvd24gJyArIHRlYXJkb3duICsgJyBhZGRlZCB0byBTdWJzY3JpcHRpb24uJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHN1YnNjcmlwdGlvbi5fYWRkUGFyZW50KHRoaXMpKSB7XG4gICAgICAgICAgICB2YXIgc3Vic2NyaXB0aW9ucyA9IHRoaXMuX3N1YnNjcmlwdGlvbnM7XG4gICAgICAgICAgICBpZiAoc3Vic2NyaXB0aW9ucykge1xuICAgICAgICAgICAgICAgIHN1YnNjcmlwdGlvbnMucHVzaChzdWJzY3JpcHRpb24pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fc3Vic2NyaXB0aW9ucyA9IFtzdWJzY3JpcHRpb25dO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzdWJzY3JpcHRpb247XG4gICAgfTtcbiAgICBTdWJzY3JpcHRpb24ucHJvdG90eXBlLnJlbW92ZSA9IGZ1bmN0aW9uIChzdWJzY3JpcHRpb24pIHtcbiAgICAgICAgdmFyIHN1YnNjcmlwdGlvbnMgPSB0aGlzLl9zdWJzY3JpcHRpb25zO1xuICAgICAgICBpZiAoc3Vic2NyaXB0aW9ucykge1xuICAgICAgICAgICAgdmFyIHN1YnNjcmlwdGlvbkluZGV4ID0gc3Vic2NyaXB0aW9ucy5pbmRleE9mKHN1YnNjcmlwdGlvbik7XG4gICAgICAgICAgICBpZiAoc3Vic2NyaXB0aW9uSW5kZXggIT09IC0xKSB7XG4gICAgICAgICAgICAgICAgc3Vic2NyaXB0aW9ucy5zcGxpY2Uoc3Vic2NyaXB0aW9uSW5kZXgsIDEpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICBTdWJzY3JpcHRpb24ucHJvdG90eXBlLl9hZGRQYXJlbnQgPSBmdW5jdGlvbiAocGFyZW50KSB7XG4gICAgICAgIHZhciBfYSA9IHRoaXMsIF9wYXJlbnQgPSBfYS5fcGFyZW50LCBfcGFyZW50cyA9IF9hLl9wYXJlbnRzO1xuICAgICAgICBpZiAoX3BhcmVudCA9PT0gcGFyZW50KSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoIV9wYXJlbnQpIHtcbiAgICAgICAgICAgIHRoaXMuX3BhcmVudCA9IHBhcmVudDtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKCFfcGFyZW50cykge1xuICAgICAgICAgICAgdGhpcy5fcGFyZW50cyA9IFtwYXJlbnRdO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoX3BhcmVudHMuaW5kZXhPZihwYXJlbnQpID09PSAtMSkge1xuICAgICAgICAgICAgX3BhcmVudHMucHVzaChwYXJlbnQpO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH07XG4gICAgU3Vic2NyaXB0aW9uLkVNUFRZID0gKGZ1bmN0aW9uIChlbXB0eSkge1xuICAgICAgICBlbXB0eS5jbG9zZWQgPSB0cnVlO1xuICAgICAgICByZXR1cm4gZW1wdHk7XG4gICAgfShuZXcgU3Vic2NyaXB0aW9uKCkpKTtcbiAgICByZXR1cm4gU3Vic2NyaXB0aW9uO1xufSgpKTtcbmV4cG9ydCB7IFN1YnNjcmlwdGlvbiB9O1xuZnVuY3Rpb24gZmxhdHRlblVuc3Vic2NyaXB0aW9uRXJyb3JzKGVycm9ycykge1xuICAgIHJldHVybiBlcnJvcnMucmVkdWNlKGZ1bmN0aW9uIChlcnJzLCBlcnIpIHsgcmV0dXJuIGVycnMuY29uY2F0KChlcnIgaW5zdGFuY2VvZiBVbnN1YnNjcmlwdGlvbkVycm9yKSA/IGVyci5lcnJvcnMgOiBlcnIpOyB9LCBbXSk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1TdWJzY3JpcHRpb24uanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUICBQVVJFX0lNUE9SVFNfRU5EICovXG5leHBvcnQgZnVuY3Rpb24gaXNPYmplY3QoeCkge1xuICAgIHJldHVybiB4ICE9PSBudWxsICYmIHR5cGVvZiB4ID09PSAnb2JqZWN0Jztcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWlzT2JqZWN0LmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCAgUFVSRV9JTVBPUlRTX0VORCAqL1xuZXhwb3J0IHZhciByeFN1YnNjcmliZXIgPSB0eXBlb2YgU3ltYm9sID09PSAnZnVuY3Rpb24nXG4gICAgPyAvKkBfX1BVUkVfXyovIFN5bWJvbCgncnhTdWJzY3JpYmVyJylcbiAgICA6ICdAQHJ4U3Vic2NyaWJlcl8nICsgLypAX19QVVJFX18qLyBNYXRoLnJhbmRvbSgpO1xuZXhwb3J0IHZhciAkJHJ4U3Vic2NyaWJlciA9IHJ4U3Vic2NyaWJlcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXJ4U3Vic2NyaWJlci5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgdHNsaWIsX3V0aWxfaXNGdW5jdGlvbixfT2JzZXJ2ZXIsX1N1YnNjcmlwdGlvbixfaW50ZXJuYWxfc3ltYm9sX3J4U3Vic2NyaWJlcixfY29uZmlnLF91dGlsX2hvc3RSZXBvcnRFcnJvciBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgKiBhcyB0c2xpYl8xIGZyb20gXCJ0c2xpYlwiO1xuaW1wb3J0IHsgaXNGdW5jdGlvbiB9IGZyb20gJy4vdXRpbC9pc0Z1bmN0aW9uJztcbmltcG9ydCB7IGVtcHR5IGFzIGVtcHR5T2JzZXJ2ZXIgfSBmcm9tICcuL09ic2VydmVyJztcbmltcG9ydCB7IFN1YnNjcmlwdGlvbiB9IGZyb20gJy4vU3Vic2NyaXB0aW9uJztcbmltcG9ydCB7IHJ4U3Vic2NyaWJlciBhcyByeFN1YnNjcmliZXJTeW1ib2wgfSBmcm9tICcuLi9pbnRlcm5hbC9zeW1ib2wvcnhTdWJzY3JpYmVyJztcbmltcG9ydCB7IGNvbmZpZyB9IGZyb20gJy4vY29uZmlnJztcbmltcG9ydCB7IGhvc3RSZXBvcnRFcnJvciB9IGZyb20gJy4vdXRpbC9ob3N0UmVwb3J0RXJyb3InO1xudmFyIFN1YnNjcmliZXIgPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgdHNsaWJfMS5fX2V4dGVuZHMoU3Vic2NyaWJlciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBTdWJzY3JpYmVyKGRlc3RpbmF0aW9uT3JOZXh0LCBlcnJvciwgY29tcGxldGUpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcykgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuc3luY0Vycm9yVmFsdWUgPSBudWxsO1xuICAgICAgICBfdGhpcy5zeW5jRXJyb3JUaHJvd24gPSBmYWxzZTtcbiAgICAgICAgX3RoaXMuc3luY0Vycm9yVGhyb3dhYmxlID0gZmFsc2U7XG4gICAgICAgIF90aGlzLmlzU3RvcHBlZCA9IGZhbHNlO1xuICAgICAgICBzd2l0Y2ggKGFyZ3VtZW50cy5sZW5ndGgpIHtcbiAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICBfdGhpcy5kZXN0aW5hdGlvbiA9IGVtcHR5T2JzZXJ2ZXI7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgaWYgKCFkZXN0aW5hdGlvbk9yTmV4dCkge1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5kZXN0aW5hdGlvbiA9IGVtcHR5T2JzZXJ2ZXI7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGRlc3RpbmF0aW9uT3JOZXh0ID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZGVzdGluYXRpb25Pck5leHQgaW5zdGFuY2VvZiBTdWJzY3JpYmVyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5zeW5jRXJyb3JUaHJvd2FibGUgPSBkZXN0aW5hdGlvbk9yTmV4dC5zeW5jRXJyb3JUaHJvd2FibGU7XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5kZXN0aW5hdGlvbiA9IGRlc3RpbmF0aW9uT3JOZXh0O1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVzdGluYXRpb25Pck5leHQuYWRkKF90aGlzKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLnN5bmNFcnJvclRocm93YWJsZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5kZXN0aW5hdGlvbiA9IG5ldyBTYWZlU3Vic2NyaWJlcihfdGhpcywgZGVzdGluYXRpb25Pck5leHQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgX3RoaXMuc3luY0Vycm9yVGhyb3dhYmxlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBfdGhpcy5kZXN0aW5hdGlvbiA9IG5ldyBTYWZlU3Vic2NyaWJlcihfdGhpcywgZGVzdGluYXRpb25Pck5leHQsIGVycm9yLCBjb21wbGV0ZSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBTdWJzY3JpYmVyLnByb3RvdHlwZVtyeFN1YnNjcmliZXJTeW1ib2xdID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpczsgfTtcbiAgICBTdWJzY3JpYmVyLmNyZWF0ZSA9IGZ1bmN0aW9uIChuZXh0LCBlcnJvciwgY29tcGxldGUpIHtcbiAgICAgICAgdmFyIHN1YnNjcmliZXIgPSBuZXcgU3Vic2NyaWJlcihuZXh0LCBlcnJvciwgY29tcGxldGUpO1xuICAgICAgICBzdWJzY3JpYmVyLnN5bmNFcnJvclRocm93YWJsZSA9IGZhbHNlO1xuICAgICAgICByZXR1cm4gc3Vic2NyaWJlcjtcbiAgICB9O1xuICAgIFN1YnNjcmliZXIucHJvdG90eXBlLm5leHQgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgaWYgKCF0aGlzLmlzU3RvcHBlZCkge1xuICAgICAgICAgICAgdGhpcy5fbmV4dCh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFN1YnNjcmliZXIucHJvdG90eXBlLmVycm9yID0gZnVuY3Rpb24gKGVycikge1xuICAgICAgICBpZiAoIXRoaXMuaXNTdG9wcGVkKSB7XG4gICAgICAgICAgICB0aGlzLmlzU3RvcHBlZCA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLl9lcnJvcihlcnIpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBTdWJzY3JpYmVyLnByb3RvdHlwZS5jb21wbGV0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKCF0aGlzLmlzU3RvcHBlZCkge1xuICAgICAgICAgICAgdGhpcy5pc1N0b3BwZWQgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5fY29tcGxldGUoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgU3Vic2NyaWJlci5wcm90b3R5cGUudW5zdWJzY3JpYmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLmNsb3NlZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuaXNTdG9wcGVkID0gdHJ1ZTtcbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS51bnN1YnNjcmliZS5jYWxsKHRoaXMpO1xuICAgIH07XG4gICAgU3Vic2NyaWJlci5wcm90b3R5cGUuX25leHQgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgdGhpcy5kZXN0aW5hdGlvbi5uZXh0KHZhbHVlKTtcbiAgICB9O1xuICAgIFN1YnNjcmliZXIucHJvdG90eXBlLl9lcnJvciA9IGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgdGhpcy5kZXN0aW5hdGlvbi5lcnJvcihlcnIpO1xuICAgICAgICB0aGlzLnVuc3Vic2NyaWJlKCk7XG4gICAgfTtcbiAgICBTdWJzY3JpYmVyLnByb3RvdHlwZS5fY29tcGxldGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuZGVzdGluYXRpb24uY29tcGxldGUoKTtcbiAgICAgICAgdGhpcy51bnN1YnNjcmliZSgpO1xuICAgIH07XG4gICAgU3Vic2NyaWJlci5wcm90b3R5cGUuX3Vuc3Vic2NyaWJlQW5kUmVjeWNsZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF9hID0gdGhpcywgX3BhcmVudCA9IF9hLl9wYXJlbnQsIF9wYXJlbnRzID0gX2EuX3BhcmVudHM7XG4gICAgICAgIHRoaXMuX3BhcmVudCA9IG51bGw7XG4gICAgICAgIHRoaXMuX3BhcmVudHMgPSBudWxsO1xuICAgICAgICB0aGlzLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgIHRoaXMuY2xvc2VkID0gZmFsc2U7XG4gICAgICAgIHRoaXMuaXNTdG9wcGVkID0gZmFsc2U7XG4gICAgICAgIHRoaXMuX3BhcmVudCA9IF9wYXJlbnQ7XG4gICAgICAgIHRoaXMuX3BhcmVudHMgPSBfcGFyZW50cztcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICByZXR1cm4gU3Vic2NyaWJlcjtcbn0oU3Vic2NyaXB0aW9uKSk7XG5leHBvcnQgeyBTdWJzY3JpYmVyIH07XG52YXIgU2FmZVN1YnNjcmliZXIgPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgdHNsaWJfMS5fX2V4dGVuZHMoU2FmZVN1YnNjcmliZXIsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gU2FmZVN1YnNjcmliZXIoX3BhcmVudFN1YnNjcmliZXIsIG9ic2VydmVyT3JOZXh0LCBlcnJvciwgY29tcGxldGUpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcykgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuX3BhcmVudFN1YnNjcmliZXIgPSBfcGFyZW50U3Vic2NyaWJlcjtcbiAgICAgICAgdmFyIG5leHQ7XG4gICAgICAgIHZhciBjb250ZXh0ID0gX3RoaXM7XG4gICAgICAgIGlmIChpc0Z1bmN0aW9uKG9ic2VydmVyT3JOZXh0KSkge1xuICAgICAgICAgICAgbmV4dCA9IG9ic2VydmVyT3JOZXh0O1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKG9ic2VydmVyT3JOZXh0KSB7XG4gICAgICAgICAgICBuZXh0ID0gb2JzZXJ2ZXJPck5leHQubmV4dDtcbiAgICAgICAgICAgIGVycm9yID0gb2JzZXJ2ZXJPck5leHQuZXJyb3I7XG4gICAgICAgICAgICBjb21wbGV0ZSA9IG9ic2VydmVyT3JOZXh0LmNvbXBsZXRlO1xuICAgICAgICAgICAgaWYgKG9ic2VydmVyT3JOZXh0ICE9PSBlbXB0eU9ic2VydmVyKSB7XG4gICAgICAgICAgICAgICAgY29udGV4dCA9IE9iamVjdC5jcmVhdGUob2JzZXJ2ZXJPck5leHQpO1xuICAgICAgICAgICAgICAgIGlmIChpc0Z1bmN0aW9uKGNvbnRleHQudW5zdWJzY3JpYmUpKSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLmFkZChjb250ZXh0LnVuc3Vic2NyaWJlLmJpbmQoY29udGV4dCkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb250ZXh0LnVuc3Vic2NyaWJlID0gX3RoaXMudW5zdWJzY3JpYmUuYmluZChfdGhpcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgX3RoaXMuX2NvbnRleHQgPSBjb250ZXh0O1xuICAgICAgICBfdGhpcy5fbmV4dCA9IG5leHQ7XG4gICAgICAgIF90aGlzLl9lcnJvciA9IGVycm9yO1xuICAgICAgICBfdGhpcy5fY29tcGxldGUgPSBjb21wbGV0ZTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBTYWZlU3Vic2NyaWJlci5wcm90b3R5cGUubmV4dCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICBpZiAoIXRoaXMuaXNTdG9wcGVkICYmIHRoaXMuX25leHQpIHtcbiAgICAgICAgICAgIHZhciBfcGFyZW50U3Vic2NyaWJlciA9IHRoaXMuX3BhcmVudFN1YnNjcmliZXI7XG4gICAgICAgICAgICBpZiAoIWNvbmZpZy51c2VEZXByZWNhdGVkU3luY2hyb25vdXNFcnJvckhhbmRsaW5nIHx8ICFfcGFyZW50U3Vic2NyaWJlci5zeW5jRXJyb3JUaHJvd2FibGUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9fdHJ5T3JVbnN1Yih0aGlzLl9uZXh0LCB2YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh0aGlzLl9fdHJ5T3JTZXRFcnJvcihfcGFyZW50U3Vic2NyaWJlciwgdGhpcy5fbmV4dCwgdmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy51bnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICBTYWZlU3Vic2NyaWJlci5wcm90b3R5cGUuZXJyb3IgPSBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgIGlmICghdGhpcy5pc1N0b3BwZWQpIHtcbiAgICAgICAgICAgIHZhciBfcGFyZW50U3Vic2NyaWJlciA9IHRoaXMuX3BhcmVudFN1YnNjcmliZXI7XG4gICAgICAgICAgICB2YXIgdXNlRGVwcmVjYXRlZFN5bmNocm9ub3VzRXJyb3JIYW5kbGluZyA9IGNvbmZpZy51c2VEZXByZWNhdGVkU3luY2hyb25vdXNFcnJvckhhbmRsaW5nO1xuICAgICAgICAgICAgaWYgKHRoaXMuX2Vycm9yKSB7XG4gICAgICAgICAgICAgICAgaWYgKCF1c2VEZXByZWNhdGVkU3luY2hyb25vdXNFcnJvckhhbmRsaW5nIHx8ICFfcGFyZW50U3Vic2NyaWJlci5zeW5jRXJyb3JUaHJvd2FibGUpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fX3RyeU9yVW5zdWIodGhpcy5fZXJyb3IsIGVycik7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX190cnlPclNldEVycm9yKF9wYXJlbnRTdWJzY3JpYmVyLCB0aGlzLl9lcnJvciwgZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy51bnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKCFfcGFyZW50U3Vic2NyaWJlci5zeW5jRXJyb3JUaHJvd2FibGUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgICAgICAgaWYgKHVzZURlcHJlY2F0ZWRTeW5jaHJvbm91c0Vycm9ySGFuZGxpbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgZXJyO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBob3N0UmVwb3J0RXJyb3IoZXJyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmICh1c2VEZXByZWNhdGVkU3luY2hyb25vdXNFcnJvckhhbmRsaW5nKSB7XG4gICAgICAgICAgICAgICAgICAgIF9wYXJlbnRTdWJzY3JpYmVyLnN5bmNFcnJvclZhbHVlID0gZXJyO1xuICAgICAgICAgICAgICAgICAgICBfcGFyZW50U3Vic2NyaWJlci5zeW5jRXJyb3JUaHJvd24gPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgaG9zdFJlcG9ydEVycm9yKGVycik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMudW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgU2FmZVN1YnNjcmliZXIucHJvdG90eXBlLmNvbXBsZXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBpZiAoIXRoaXMuaXNTdG9wcGVkKSB7XG4gICAgICAgICAgICB2YXIgX3BhcmVudFN1YnNjcmliZXIgPSB0aGlzLl9wYXJlbnRTdWJzY3JpYmVyO1xuICAgICAgICAgICAgaWYgKHRoaXMuX2NvbXBsZXRlKSB7XG4gICAgICAgICAgICAgICAgdmFyIHdyYXBwZWRDb21wbGV0ZSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIF90aGlzLl9jb21wbGV0ZS5jYWxsKF90aGlzLl9jb250ZXh0KTsgfTtcbiAgICAgICAgICAgICAgICBpZiAoIWNvbmZpZy51c2VEZXByZWNhdGVkU3luY2hyb25vdXNFcnJvckhhbmRsaW5nIHx8ICFfcGFyZW50U3Vic2NyaWJlci5zeW5jRXJyb3JUaHJvd2FibGUpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fX3RyeU9yVW5zdWIod3JhcHBlZENvbXBsZXRlKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy51bnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fX3RyeU9yU2V0RXJyb3IoX3BhcmVudFN1YnNjcmliZXIsIHdyYXBwZWRDb21wbGV0ZSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFNhZmVTdWJzY3JpYmVyLnByb3RvdHlwZS5fX3RyeU9yVW5zdWIgPSBmdW5jdGlvbiAoZm4sIHZhbHVlKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBmbi5jYWxsKHRoaXMuX2NvbnRleHQsIHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICB0aGlzLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgICBpZiAoY29uZmlnLnVzZURlcHJlY2F0ZWRTeW5jaHJvbm91c0Vycm9ySGFuZGxpbmcpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBlcnI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBob3N0UmVwb3J0RXJyb3IoZXJyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgU2FmZVN1YnNjcmliZXIucHJvdG90eXBlLl9fdHJ5T3JTZXRFcnJvciA9IGZ1bmN0aW9uIChwYXJlbnQsIGZuLCB2YWx1ZSkge1xuICAgICAgICBpZiAoIWNvbmZpZy51c2VEZXByZWNhdGVkU3luY2hyb25vdXNFcnJvckhhbmRsaW5nKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2JhZCBjYWxsJyk7XG4gICAgICAgIH1cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGZuLmNhbGwodGhpcy5fY29udGV4dCwgdmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIGlmIChjb25maWcudXNlRGVwcmVjYXRlZFN5bmNocm9ub3VzRXJyb3JIYW5kbGluZykge1xuICAgICAgICAgICAgICAgIHBhcmVudC5zeW5jRXJyb3JWYWx1ZSA9IGVycjtcbiAgICAgICAgICAgICAgICBwYXJlbnQuc3luY0Vycm9yVGhyb3duID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGhvc3RSZXBvcnRFcnJvcihlcnIpO1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9O1xuICAgIFNhZmVTdWJzY3JpYmVyLnByb3RvdHlwZS5fdW5zdWJzY3JpYmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfcGFyZW50U3Vic2NyaWJlciA9IHRoaXMuX3BhcmVudFN1YnNjcmliZXI7XG4gICAgICAgIHRoaXMuX2NvbnRleHQgPSBudWxsO1xuICAgICAgICB0aGlzLl9wYXJlbnRTdWJzY3JpYmVyID0gbnVsbDtcbiAgICAgICAgX3BhcmVudFN1YnNjcmliZXIudW5zdWJzY3JpYmUoKTtcbiAgICB9O1xuICAgIHJldHVybiBTYWZlU3Vic2NyaWJlcjtcbn0oU3Vic2NyaWJlcikpO1xuZXhwb3J0IHsgU2FmZVN1YnNjcmliZXIgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVN1YnNjcmliZXIuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUICBQVVJFX0lNUE9SVFNfRU5EICovXG5leHBvcnQgdmFyIG9ic2VydmFibGUgPSB0eXBlb2YgU3ltYm9sID09PSAnZnVuY3Rpb24nICYmIFN5bWJvbC5vYnNlcnZhYmxlIHx8ICdAQG9ic2VydmFibGUnO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9b2JzZXJ2YWJsZS5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgIFBVUkVfSU1QT1JUU19FTkQgKi9cbmV4cG9ydCBmdW5jdGlvbiBub29wKCkgeyB9XG4vLyMgc291cmNlTWFwcGluZ1VSTD1ub29wLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCBfbm9vcCBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgeyBub29wIH0gZnJvbSAnLi9ub29wJztcbmV4cG9ydCBmdW5jdGlvbiBwaXBlKCkge1xuICAgIHZhciBmbnMgPSBbXTtcbiAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICBmbnNbX2ldID0gYXJndW1lbnRzW19pXTtcbiAgICB9XG4gICAgcmV0dXJuIHBpcGVGcm9tQXJyYXkoZm5zKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBwaXBlRnJvbUFycmF5KGZucykge1xuICAgIGlmICghZm5zKSB7XG4gICAgICAgIHJldHVybiBub29wO1xuICAgIH1cbiAgICBpZiAoZm5zLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICByZXR1cm4gZm5zWzBdO1xuICAgIH1cbiAgICByZXR1cm4gZnVuY3Rpb24gcGlwZWQoaW5wdXQpIHtcbiAgICAgICAgcmV0dXJuIGZucy5yZWR1Y2UoZnVuY3Rpb24gKHByZXYsIGZuKSB7IHJldHVybiBmbihwcmV2KTsgfSwgaW5wdXQpO1xuICAgIH07XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1waXBlLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCBfdXRpbF9jYW5SZXBvcnRFcnJvcixfdXRpbF90b1N1YnNjcmliZXIsX2ludGVybmFsX3N5bWJvbF9vYnNlcnZhYmxlLF91dGlsX3BpcGUsX2NvbmZpZyBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgeyBjYW5SZXBvcnRFcnJvciB9IGZyb20gJy4vdXRpbC9jYW5SZXBvcnRFcnJvcic7XG5pbXBvcnQgeyB0b1N1YnNjcmliZXIgfSBmcm9tICcuL3V0aWwvdG9TdWJzY3JpYmVyJztcbmltcG9ydCB7IG9ic2VydmFibGUgYXMgU3ltYm9sX29ic2VydmFibGUgfSBmcm9tICcuLi9pbnRlcm5hbC9zeW1ib2wvb2JzZXJ2YWJsZSc7XG5pbXBvcnQgeyBwaXBlRnJvbUFycmF5IH0gZnJvbSAnLi91dGlsL3BpcGUnO1xuaW1wb3J0IHsgY29uZmlnIH0gZnJvbSAnLi9jb25maWcnO1xudmFyIE9ic2VydmFibGUgPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gT2JzZXJ2YWJsZShzdWJzY3JpYmUpIHtcbiAgICAgICAgdGhpcy5faXNTY2FsYXIgPSBmYWxzZTtcbiAgICAgICAgaWYgKHN1YnNjcmliZSkge1xuICAgICAgICAgICAgdGhpcy5fc3Vic2NyaWJlID0gc3Vic2NyaWJlO1xuICAgICAgICB9XG4gICAgfVxuICAgIE9ic2VydmFibGUucHJvdG90eXBlLmxpZnQgPSBmdW5jdGlvbiAob3BlcmF0b3IpIHtcbiAgICAgICAgdmFyIG9ic2VydmFibGUgPSBuZXcgT2JzZXJ2YWJsZSgpO1xuICAgICAgICBvYnNlcnZhYmxlLnNvdXJjZSA9IHRoaXM7XG4gICAgICAgIG9ic2VydmFibGUub3BlcmF0b3IgPSBvcGVyYXRvcjtcbiAgICAgICAgcmV0dXJuIG9ic2VydmFibGU7XG4gICAgfTtcbiAgICBPYnNlcnZhYmxlLnByb3RvdHlwZS5zdWJzY3JpYmUgPSBmdW5jdGlvbiAob2JzZXJ2ZXJPck5leHQsIGVycm9yLCBjb21wbGV0ZSkge1xuICAgICAgICB2YXIgb3BlcmF0b3IgPSB0aGlzLm9wZXJhdG9yO1xuICAgICAgICB2YXIgc2luayA9IHRvU3Vic2NyaWJlcihvYnNlcnZlck9yTmV4dCwgZXJyb3IsIGNvbXBsZXRlKTtcbiAgICAgICAgaWYgKG9wZXJhdG9yKSB7XG4gICAgICAgICAgICBzaW5rLmFkZChvcGVyYXRvci5jYWxsKHNpbmssIHRoaXMuc291cmNlKSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBzaW5rLmFkZCh0aGlzLnNvdXJjZSB8fCAoY29uZmlnLnVzZURlcHJlY2F0ZWRTeW5jaHJvbm91c0Vycm9ySGFuZGxpbmcgJiYgIXNpbmsuc3luY0Vycm9yVGhyb3dhYmxlKSA/XG4gICAgICAgICAgICAgICAgdGhpcy5fc3Vic2NyaWJlKHNpbmspIDpcbiAgICAgICAgICAgICAgICB0aGlzLl90cnlTdWJzY3JpYmUoc2luaykpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjb25maWcudXNlRGVwcmVjYXRlZFN5bmNocm9ub3VzRXJyb3JIYW5kbGluZykge1xuICAgICAgICAgICAgaWYgKHNpbmsuc3luY0Vycm9yVGhyb3dhYmxlKSB7XG4gICAgICAgICAgICAgICAgc2luay5zeW5jRXJyb3JUaHJvd2FibGUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBpZiAoc2luay5zeW5jRXJyb3JUaHJvd24pIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgc2luay5zeW5jRXJyb3JWYWx1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHNpbms7XG4gICAgfTtcbiAgICBPYnNlcnZhYmxlLnByb3RvdHlwZS5fdHJ5U3Vic2NyaWJlID0gZnVuY3Rpb24gKHNpbmspIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9zdWJzY3JpYmUoc2luayk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgaWYgKGNvbmZpZy51c2VEZXByZWNhdGVkU3luY2hyb25vdXNFcnJvckhhbmRsaW5nKSB7XG4gICAgICAgICAgICAgICAgc2luay5zeW5jRXJyb3JUaHJvd24gPSB0cnVlO1xuICAgICAgICAgICAgICAgIHNpbmsuc3luY0Vycm9yVmFsdWUgPSBlcnI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoY2FuUmVwb3J0RXJyb3Ioc2luaykpIHtcbiAgICAgICAgICAgICAgICBzaW5rLmVycm9yKGVycik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oZXJyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgT2JzZXJ2YWJsZS5wcm90b3R5cGUuZm9yRWFjaCA9IGZ1bmN0aW9uIChuZXh0LCBwcm9taXNlQ3Rvcikge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBwcm9taXNlQ3RvciA9IGdldFByb21pc2VDdG9yKHByb21pc2VDdG9yKTtcbiAgICAgICAgcmV0dXJuIG5ldyBwcm9taXNlQ3RvcihmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgICAgICB2YXIgc3Vic2NyaXB0aW9uO1xuICAgICAgICAgICAgc3Vic2NyaXB0aW9uID0gX3RoaXMuc3Vic2NyaWJlKGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIG5leHQodmFsdWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlamVjdChlcnIpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoc3Vic2NyaXB0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdWJzY3JpcHRpb24udW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sIHJlamVjdCwgcmVzb2x2ZSk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgT2JzZXJ2YWJsZS5wcm90b3R5cGUuX3N1YnNjcmliZSA9IGZ1bmN0aW9uIChzdWJzY3JpYmVyKSB7XG4gICAgICAgIHZhciBzb3VyY2UgPSB0aGlzLnNvdXJjZTtcbiAgICAgICAgcmV0dXJuIHNvdXJjZSAmJiBzb3VyY2Uuc3Vic2NyaWJlKHN1YnNjcmliZXIpO1xuICAgIH07XG4gICAgT2JzZXJ2YWJsZS5wcm90b3R5cGVbU3ltYm9sX29ic2VydmFibGVdID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIE9ic2VydmFibGUucHJvdG90eXBlLnBpcGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBvcGVyYXRpb25zID0gW107XG4gICAgICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICBvcGVyYXRpb25zW19pXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9wZXJhdGlvbnMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcGlwZUZyb21BcnJheShvcGVyYXRpb25zKSh0aGlzKTtcbiAgICB9O1xuICAgIE9ic2VydmFibGUucHJvdG90eXBlLnRvUHJvbWlzZSA9IGZ1bmN0aW9uIChwcm9taXNlQ3Rvcikge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBwcm9taXNlQ3RvciA9IGdldFByb21pc2VDdG9yKHByb21pc2VDdG9yKTtcbiAgICAgICAgcmV0dXJuIG5ldyBwcm9taXNlQ3RvcihmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgICAgICB2YXIgdmFsdWU7XG4gICAgICAgICAgICBfdGhpcy5zdWJzY3JpYmUoZnVuY3Rpb24gKHgpIHsgcmV0dXJuIHZhbHVlID0geDsgfSwgZnVuY3Rpb24gKGVycikgeyByZXR1cm4gcmVqZWN0KGVycik7IH0sIGZ1bmN0aW9uICgpIHsgcmV0dXJuIHJlc29sdmUodmFsdWUpOyB9KTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBPYnNlcnZhYmxlLmNyZWF0ZSA9IGZ1bmN0aW9uIChzdWJzY3JpYmUpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBPYnNlcnZhYmxlKHN1YnNjcmliZSk7XG4gICAgfTtcbiAgICByZXR1cm4gT2JzZXJ2YWJsZTtcbn0oKSk7XG5leHBvcnQgeyBPYnNlcnZhYmxlIH07XG5mdW5jdGlvbiBnZXRQcm9taXNlQ3Rvcihwcm9taXNlQ3Rvcikge1xuICAgIGlmICghcHJvbWlzZUN0b3IpIHtcbiAgICAgICAgcHJvbWlzZUN0b3IgPSBjb25maWcuUHJvbWlzZSB8fCBQcm9taXNlO1xuICAgIH1cbiAgICBpZiAoIXByb21pc2VDdG9yKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignbm8gUHJvbWlzZSBpbXBsIGZvdW5kJyk7XG4gICAgfVxuICAgIHJldHVybiBwcm9taXNlQ3Rvcjtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPU9ic2VydmFibGUuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIF9TdWJzY3JpYmVyLF9zeW1ib2xfcnhTdWJzY3JpYmVyLF9PYnNlcnZlciBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgeyBTdWJzY3JpYmVyIH0gZnJvbSAnLi4vU3Vic2NyaWJlcic7XG5pbXBvcnQgeyByeFN1YnNjcmliZXIgYXMgcnhTdWJzY3JpYmVyU3ltYm9sIH0gZnJvbSAnLi4vc3ltYm9sL3J4U3Vic2NyaWJlcic7XG5pbXBvcnQgeyBlbXB0eSBhcyBlbXB0eU9ic2VydmVyIH0gZnJvbSAnLi4vT2JzZXJ2ZXInO1xuZXhwb3J0IGZ1bmN0aW9uIHRvU3Vic2NyaWJlcihuZXh0T3JPYnNlcnZlciwgZXJyb3IsIGNvbXBsZXRlKSB7XG4gICAgaWYgKG5leHRPck9ic2VydmVyKSB7XG4gICAgICAgIGlmIChuZXh0T3JPYnNlcnZlciBpbnN0YW5jZW9mIFN1YnNjcmliZXIpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXh0T3JPYnNlcnZlcjtcbiAgICAgICAgfVxuICAgICAgICBpZiAobmV4dE9yT2JzZXJ2ZXJbcnhTdWJzY3JpYmVyU3ltYm9sXSkge1xuICAgICAgICAgICAgcmV0dXJuIG5leHRPck9ic2VydmVyW3J4U3Vic2NyaWJlclN5bWJvbF0oKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAoIW5leHRPck9ic2VydmVyICYmICFlcnJvciAmJiAhY29tcGxldGUpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBTdWJzY3JpYmVyKGVtcHR5T2JzZXJ2ZXIpO1xuICAgIH1cbiAgICByZXR1cm4gbmV3IFN1YnNjcmliZXIobmV4dE9yT2JzZXJ2ZXIsIGVycm9yLCBjb21wbGV0ZSk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD10b1N1YnNjcmliZXIuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIF9TdWJzY3JpYmVyIFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCB7IFN1YnNjcmliZXIgfSBmcm9tICcuLi9TdWJzY3JpYmVyJztcbmV4cG9ydCBmdW5jdGlvbiBjYW5SZXBvcnRFcnJvcihvYnNlcnZlcikge1xuICAgIHdoaWxlIChvYnNlcnZlcikge1xuICAgICAgICB2YXIgX2EgPSBvYnNlcnZlciwgY2xvc2VkXzEgPSBfYS5jbG9zZWQsIGRlc3RpbmF0aW9uID0gX2EuZGVzdGluYXRpb24sIGlzU3RvcHBlZCA9IF9hLmlzU3RvcHBlZDtcbiAgICAgICAgaWYgKGNsb3NlZF8xIHx8IGlzU3RvcHBlZCkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGRlc3RpbmF0aW9uICYmIGRlc3RpbmF0aW9uIGluc3RhbmNlb2YgU3Vic2NyaWJlcikge1xuICAgICAgICAgICAgb2JzZXJ2ZXIgPSBkZXN0aW5hdGlvbjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIG9ic2VydmVyID0gbnVsbDtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNhblJlcG9ydEVycm9yLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCAgUFVSRV9JTVBPUlRTX0VORCAqL1xuZnVuY3Rpb24gT2JqZWN0VW5zdWJzY3JpYmVkRXJyb3JJbXBsKCkge1xuICAgIEVycm9yLmNhbGwodGhpcyk7XG4gICAgdGhpcy5tZXNzYWdlID0gJ29iamVjdCB1bnN1YnNjcmliZWQnO1xuICAgIHRoaXMubmFtZSA9ICdPYmplY3RVbnN1YnNjcmliZWRFcnJvcic7XG4gICAgcmV0dXJuIHRoaXM7XG59XG5PYmplY3RVbnN1YnNjcmliZWRFcnJvckltcGwucHJvdG90eXBlID0gLypAX19QVVJFX18qLyBPYmplY3QuY3JlYXRlKEVycm9yLnByb3RvdHlwZSk7XG5leHBvcnQgdmFyIE9iamVjdFVuc3Vic2NyaWJlZEVycm9yID0gT2JqZWN0VW5zdWJzY3JpYmVkRXJyb3JJbXBsO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9T2JqZWN0VW5zdWJzY3JpYmVkRXJyb3IuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIHRzbGliLF9TdWJzY3JpcHRpb24gUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0ICogYXMgdHNsaWJfMSBmcm9tIFwidHNsaWJcIjtcbmltcG9ydCB7IFN1YnNjcmlwdGlvbiB9IGZyb20gJy4vU3Vic2NyaXB0aW9uJztcbnZhciBTdWJqZWN0U3Vic2NyaXB0aW9uID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIHRzbGliXzEuX19leHRlbmRzKFN1YmplY3RTdWJzY3JpcHRpb24sIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gU3ViamVjdFN1YnNjcmlwdGlvbihzdWJqZWN0LCBzdWJzY3JpYmVyKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLnN1YmplY3QgPSBzdWJqZWN0O1xuICAgICAgICBfdGhpcy5zdWJzY3JpYmVyID0gc3Vic2NyaWJlcjtcbiAgICAgICAgX3RoaXMuY2xvc2VkID0gZmFsc2U7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgU3ViamVjdFN1YnNjcmlwdGlvbi5wcm90b3R5cGUudW5zdWJzY3JpYmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLmNsb3NlZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY2xvc2VkID0gdHJ1ZTtcbiAgICAgICAgdmFyIHN1YmplY3QgPSB0aGlzLnN1YmplY3Q7XG4gICAgICAgIHZhciBvYnNlcnZlcnMgPSBzdWJqZWN0Lm9ic2VydmVycztcbiAgICAgICAgdGhpcy5zdWJqZWN0ID0gbnVsbDtcbiAgICAgICAgaWYgKCFvYnNlcnZlcnMgfHwgb2JzZXJ2ZXJzLmxlbmd0aCA9PT0gMCB8fCBzdWJqZWN0LmlzU3RvcHBlZCB8fCBzdWJqZWN0LmNsb3NlZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBzdWJzY3JpYmVySW5kZXggPSBvYnNlcnZlcnMuaW5kZXhPZih0aGlzLnN1YnNjcmliZXIpO1xuICAgICAgICBpZiAoc3Vic2NyaWJlckluZGV4ICE9PSAtMSkge1xuICAgICAgICAgICAgb2JzZXJ2ZXJzLnNwbGljZShzdWJzY3JpYmVySW5kZXgsIDEpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gU3ViamVjdFN1YnNjcmlwdGlvbjtcbn0oU3Vic2NyaXB0aW9uKSk7XG5leHBvcnQgeyBTdWJqZWN0U3Vic2NyaXB0aW9uIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1TdWJqZWN0U3Vic2NyaXB0aW9uLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCB0c2xpYixfT2JzZXJ2YWJsZSxfU3Vic2NyaWJlcixfU3Vic2NyaXB0aW9uLF91dGlsX09iamVjdFVuc3Vic2NyaWJlZEVycm9yLF9TdWJqZWN0U3Vic2NyaXB0aW9uLF9pbnRlcm5hbF9zeW1ib2xfcnhTdWJzY3JpYmVyIFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCAqIGFzIHRzbGliXzEgZnJvbSBcInRzbGliXCI7XG5pbXBvcnQgeyBPYnNlcnZhYmxlIH0gZnJvbSAnLi9PYnNlcnZhYmxlJztcbmltcG9ydCB7IFN1YnNjcmliZXIgfSBmcm9tICcuL1N1YnNjcmliZXInO1xuaW1wb3J0IHsgU3Vic2NyaXB0aW9uIH0gZnJvbSAnLi9TdWJzY3JpcHRpb24nO1xuaW1wb3J0IHsgT2JqZWN0VW5zdWJzY3JpYmVkRXJyb3IgfSBmcm9tICcuL3V0aWwvT2JqZWN0VW5zdWJzY3JpYmVkRXJyb3InO1xuaW1wb3J0IHsgU3ViamVjdFN1YnNjcmlwdGlvbiB9IGZyb20gJy4vU3ViamVjdFN1YnNjcmlwdGlvbic7XG5pbXBvcnQgeyByeFN1YnNjcmliZXIgYXMgcnhTdWJzY3JpYmVyU3ltYm9sIH0gZnJvbSAnLi4vaW50ZXJuYWwvc3ltYm9sL3J4U3Vic2NyaWJlcic7XG52YXIgU3ViamVjdFN1YnNjcmliZXIgPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgdHNsaWJfMS5fX2V4dGVuZHMoU3ViamVjdFN1YnNjcmliZXIsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gU3ViamVjdFN1YnNjcmliZXIoZGVzdGluYXRpb24pIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgZGVzdGluYXRpb24pIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLmRlc3RpbmF0aW9uID0gZGVzdGluYXRpb247XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgcmV0dXJuIFN1YmplY3RTdWJzY3JpYmVyO1xufShTdWJzY3JpYmVyKSk7XG5leHBvcnQgeyBTdWJqZWN0U3Vic2NyaWJlciB9O1xudmFyIFN1YmplY3QgPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgdHNsaWJfMS5fX2V4dGVuZHMoU3ViamVjdCwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBTdWJqZWN0KCkge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5vYnNlcnZlcnMgPSBbXTtcbiAgICAgICAgX3RoaXMuY2xvc2VkID0gZmFsc2U7XG4gICAgICAgIF90aGlzLmlzU3RvcHBlZCA9IGZhbHNlO1xuICAgICAgICBfdGhpcy5oYXNFcnJvciA9IGZhbHNlO1xuICAgICAgICBfdGhpcy50aHJvd25FcnJvciA9IG51bGw7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgU3ViamVjdC5wcm90b3R5cGVbcnhTdWJzY3JpYmVyU3ltYm9sXSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBTdWJqZWN0U3Vic2NyaWJlcih0aGlzKTtcbiAgICB9O1xuICAgIFN1YmplY3QucHJvdG90eXBlLmxpZnQgPSBmdW5jdGlvbiAob3BlcmF0b3IpIHtcbiAgICAgICAgdmFyIHN1YmplY3QgPSBuZXcgQW5vbnltb3VzU3ViamVjdCh0aGlzLCB0aGlzKTtcbiAgICAgICAgc3ViamVjdC5vcGVyYXRvciA9IG9wZXJhdG9yO1xuICAgICAgICByZXR1cm4gc3ViamVjdDtcbiAgICB9O1xuICAgIFN1YmplY3QucHJvdG90eXBlLm5leHQgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgaWYgKHRoaXMuY2xvc2VkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgT2JqZWN0VW5zdWJzY3JpYmVkRXJyb3IoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRoaXMuaXNTdG9wcGVkKSB7XG4gICAgICAgICAgICB2YXIgb2JzZXJ2ZXJzID0gdGhpcy5vYnNlcnZlcnM7XG4gICAgICAgICAgICB2YXIgbGVuID0gb2JzZXJ2ZXJzLmxlbmd0aDtcbiAgICAgICAgICAgIHZhciBjb3B5ID0gb2JzZXJ2ZXJzLnNsaWNlKCk7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgICAgICAgY29weVtpXS5uZXh0KHZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgU3ViamVjdC5wcm90b3R5cGUuZXJyb3IgPSBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgIGlmICh0aGlzLmNsb3NlZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IE9iamVjdFVuc3Vic2NyaWJlZEVycm9yKCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5oYXNFcnJvciA9IHRydWU7XG4gICAgICAgIHRoaXMudGhyb3duRXJyb3IgPSBlcnI7XG4gICAgICAgIHRoaXMuaXNTdG9wcGVkID0gdHJ1ZTtcbiAgICAgICAgdmFyIG9ic2VydmVycyA9IHRoaXMub2JzZXJ2ZXJzO1xuICAgICAgICB2YXIgbGVuID0gb2JzZXJ2ZXJzLmxlbmd0aDtcbiAgICAgICAgdmFyIGNvcHkgPSBvYnNlcnZlcnMuc2xpY2UoKTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgICAgY29weVtpXS5lcnJvcihlcnIpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMub2JzZXJ2ZXJzLmxlbmd0aCA9IDA7XG4gICAgfTtcbiAgICBTdWJqZWN0LnByb3RvdHlwZS5jb21wbGV0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuY2xvc2VkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgT2JqZWN0VW5zdWJzY3JpYmVkRXJyb3IoKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmlzU3RvcHBlZCA9IHRydWU7XG4gICAgICAgIHZhciBvYnNlcnZlcnMgPSB0aGlzLm9ic2VydmVycztcbiAgICAgICAgdmFyIGxlbiA9IG9ic2VydmVycy5sZW5ndGg7XG4gICAgICAgIHZhciBjb3B5ID0gb2JzZXJ2ZXJzLnNsaWNlKCk7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICAgIGNvcHlbaV0uY29tcGxldGUoKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLm9ic2VydmVycy5sZW5ndGggPSAwO1xuICAgIH07XG4gICAgU3ViamVjdC5wcm90b3R5cGUudW5zdWJzY3JpYmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuaXNTdG9wcGVkID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5jbG9zZWQgPSB0cnVlO1xuICAgICAgICB0aGlzLm9ic2VydmVycyA9IG51bGw7XG4gICAgfTtcbiAgICBTdWJqZWN0LnByb3RvdHlwZS5fdHJ5U3Vic2NyaWJlID0gZnVuY3Rpb24gKHN1YnNjcmliZXIpIHtcbiAgICAgICAgaWYgKHRoaXMuY2xvc2VkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgT2JqZWN0VW5zdWJzY3JpYmVkRXJyb3IoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBfc3VwZXIucHJvdG90eXBlLl90cnlTdWJzY3JpYmUuY2FsbCh0aGlzLCBzdWJzY3JpYmVyKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgU3ViamVjdC5wcm90b3R5cGUuX3N1YnNjcmliZSA9IGZ1bmN0aW9uIChzdWJzY3JpYmVyKSB7XG4gICAgICAgIGlmICh0aGlzLmNsb3NlZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IE9iamVjdFVuc3Vic2NyaWJlZEVycm9yKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy5oYXNFcnJvcikge1xuICAgICAgICAgICAgc3Vic2NyaWJlci5lcnJvcih0aGlzLnRocm93bkVycm9yKTtcbiAgICAgICAgICAgIHJldHVybiBTdWJzY3JpcHRpb24uRU1QVFk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy5pc1N0b3BwZWQpIHtcbiAgICAgICAgICAgIHN1YnNjcmliZXIuY29tcGxldGUoKTtcbiAgICAgICAgICAgIHJldHVybiBTdWJzY3JpcHRpb24uRU1QVFk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLm9ic2VydmVycy5wdXNoKHN1YnNjcmliZXIpO1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBTdWJqZWN0U3Vic2NyaXB0aW9uKHRoaXMsIHN1YnNjcmliZXIpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBTdWJqZWN0LnByb3RvdHlwZS5hc09ic2VydmFibGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBvYnNlcnZhYmxlID0gbmV3IE9ic2VydmFibGUoKTtcbiAgICAgICAgb2JzZXJ2YWJsZS5zb3VyY2UgPSB0aGlzO1xuICAgICAgICByZXR1cm4gb2JzZXJ2YWJsZTtcbiAgICB9O1xuICAgIFN1YmplY3QuY3JlYXRlID0gZnVuY3Rpb24gKGRlc3RpbmF0aW9uLCBzb3VyY2UpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBBbm9ueW1vdXNTdWJqZWN0KGRlc3RpbmF0aW9uLCBzb3VyY2UpO1xuICAgIH07XG4gICAgcmV0dXJuIFN1YmplY3Q7XG59KE9ic2VydmFibGUpKTtcbmV4cG9ydCB7IFN1YmplY3QgfTtcbnZhciBBbm9ueW1vdXNTdWJqZWN0ID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIHRzbGliXzEuX19leHRlbmRzKEFub255bW91c1N1YmplY3QsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gQW5vbnltb3VzU3ViamVjdChkZXN0aW5hdGlvbiwgc291cmNlKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLmRlc3RpbmF0aW9uID0gZGVzdGluYXRpb247XG4gICAgICAgIF90aGlzLnNvdXJjZSA9IHNvdXJjZTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBBbm9ueW1vdXNTdWJqZWN0LnByb3RvdHlwZS5uZXh0ID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIHZhciBkZXN0aW5hdGlvbiA9IHRoaXMuZGVzdGluYXRpb247XG4gICAgICAgIGlmIChkZXN0aW5hdGlvbiAmJiBkZXN0aW5hdGlvbi5uZXh0KSB7XG4gICAgICAgICAgICBkZXN0aW5hdGlvbi5uZXh0KHZhbHVlKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgQW5vbnltb3VzU3ViamVjdC5wcm90b3R5cGUuZXJyb3IgPSBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgIHZhciBkZXN0aW5hdGlvbiA9IHRoaXMuZGVzdGluYXRpb247XG4gICAgICAgIGlmIChkZXN0aW5hdGlvbiAmJiBkZXN0aW5hdGlvbi5lcnJvcikge1xuICAgICAgICAgICAgdGhpcy5kZXN0aW5hdGlvbi5lcnJvcihlcnIpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBBbm9ueW1vdXNTdWJqZWN0LnByb3RvdHlwZS5jb21wbGV0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGRlc3RpbmF0aW9uID0gdGhpcy5kZXN0aW5hdGlvbjtcbiAgICAgICAgaWYgKGRlc3RpbmF0aW9uICYmIGRlc3RpbmF0aW9uLmNvbXBsZXRlKSB7XG4gICAgICAgICAgICB0aGlzLmRlc3RpbmF0aW9uLmNvbXBsZXRlKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIEFub255bW91c1N1YmplY3QucHJvdG90eXBlLl9zdWJzY3JpYmUgPSBmdW5jdGlvbiAoc3Vic2NyaWJlcikge1xuICAgICAgICB2YXIgc291cmNlID0gdGhpcy5zb3VyY2U7XG4gICAgICAgIGlmIChzb3VyY2UpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnNvdXJjZS5zdWJzY3JpYmUoc3Vic2NyaWJlcik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gU3Vic2NyaXB0aW9uLkVNUFRZO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gQW5vbnltb3VzU3ViamVjdDtcbn0oU3ViamVjdCkpO1xuZXhwb3J0IHsgQW5vbnltb3VzU3ViamVjdCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9U3ViamVjdC5qcy5tYXBcbiIsImltcG9ydCB7IEVsZWt0cmFuYSB9IGZyb20gXCIuL2VsZWt0cmFuYVwiO1xyXG5cclxuY29uc3QgdmlldyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XHJcbnZpZXcuY2xhc3NOYW1lID0gXCJjb250YWluZXJcIjtcclxuZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCh2aWV3KTtcclxuY29uc3QgZWxla3RyYW5hID0gbmV3IEVsZWt0cmFuYShcIkNlcm5vYmlsXCIsIHZpZXcpO1xyXG5jb25zb2xlLmxvZyhlbGVrdHJhbmEpOyIsImltcG9ydCB7IFJlYWt0b3IgfSBmcm9tIFwiLi9yZWFrdG9yXCI7XHJcbmltcG9ydCB7IFN1YmplY3QgfSBmcm9tIFwicnhqc1wiO1xyXG5cclxuZXhwb3J0IGNsYXNzIEVsZWt0cmFuYSB7XHJcbiAgICBjb25zdHJ1Y3RvcihuYXppdiwgcm9kaXRlbGope1xyXG4gICAgICAgIHRoaXMubmF6aXYgPSBuYXppdjtcclxuICAgICAgICB0aGlzLnJvZGl0ZWxqID0gcm9kaXRlbGo7XHJcbiAgICAgICAgdGhpcy5tYWluU3ViamVjdCQgPSBudWxsO1xyXG4gICAgICAgIHRoaXMuY29vbGluZyQgPSBudWxsO1xyXG4gICAgICAgIHRoaXMucmVha3RvcmkgPSBbXTtcclxuXHJcbiAgICAgICAgdGhpcy5yZWFjdG9ycyA9IG51bGw7XHJcbiAgICAgICAgdGhpcy5rb256b2xhID0gbnVsbDtcclxuXHJcblxyXG4gICAgICAgIFxyXG4gICAgICAgIHRoaXMuUHJpa2F6aUtvbnRyb2x1KCk7XHJcbiAgICAgICAgdGhpcy5QcmlrYXppUmVha3RvclBsYWNlaG9sZGVyKCk7XHJcbiAgICAgICAgXHJcblxyXG4gICAgfVxyXG5cclxuICAgIEluaWNpamFsaXphY2lqYVJlYWt0b3JhKCl7XHJcbiAgICAgICAgZm9yKCBsZXQgaSA9IDA7IGk8NDsgaSsrKXtcclxuICAgICAgICAgICAgY29uc3Qga2FwYWNpdGV0ID0gTWF0aC5yYW5kb20oKSArIDE7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBpZih0aGlzLnJlYWt0b3JpID09PSBbXSl7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnJlYWt0b3JpLnB1c2gobmV3IFJlYWt0b3IoaSxrYXBhY2l0ZXQudG9GaXhlZCgxKSx0aGlzLm1haW5TdWJqZWN0JCx0aGlzLmNvb2xpbmckKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZXtcclxuICAgICAgICAgICAgICAgIHRoaXMucmVha3RvcmlbaV0gPSBuZXcgUmVha3RvcihpLGthcGFjaXRldC50b0ZpeGVkKDEpLHRoaXMubWFpblN1YmplY3QkLHRoaXMuY29vbGluZyQpO1xyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgUHJpa2F6aUtvbnRyb2x1KCl7XHJcbiAgICAgICAgY29uc3Qgc2lkZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XHJcbiAgICAgICAgc2lkZS5jbGFzc05hbWUgPSBcInNpZGVcIjtcclxuICAgICAgICB0aGlzLnJvZGl0ZWxqLmFwcGVuZENoaWxkKHNpZGUpO1xyXG5cclxuICAgICAgICBjb25zdCBzaWZyYUxibCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJsYWJlbFwiKTtcclxuICAgICAgICBzaWZyYUxibC5pbm5lckhUTUwgPSBcIlNpZnJhIHJhZG5pa2E6IFwiO1xyXG4gICAgICAgIHNpZGUuYXBwZW5kQ2hpbGQoc2lmcmFMYmwpO1xyXG5cclxuICAgICAgICBjb25zdCBzaWZyYVR4dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKTtcclxuICAgICAgICBzaWZyYVR4dC5jbGFzc05hbWUgPSBcInNpZnJhUmFkbmlrYVwiO1xyXG4gICAgICAgIHNpZGUuYXBwZW5kQ2hpbGQoc2lmcmFUeHQpO1xyXG5cclxuICAgICAgICBjb25zdCBkdWdtaWNpID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcclxuICAgICAgICBkdWdtaWNpLmNsYXNzTmFtZSA9IFwiZHVnbWljaVwiO1xyXG4gICAgICAgIHNpZGUuYXBwZW5kQ2hpbGQoZHVnbWljaSk7XHJcblxyXG4gICAgICAgIGNvbnN0IHBva3JlbmkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpO1xyXG4gICAgICAgIHBva3JlbmkuaW5uZXJIVE1MID0gXCJQb2tyZW5pXCI7XHJcbiAgICAgICAgcG9rcmVuaS5jbGFzc05hbWUgPSBcInBva3JlbmlcIjtcclxuICAgICAgICBwb2tyZW5pLm9uY2xpY2sgPSAoZXYpID0+IHRoaXMucG9rcmVuaUVsZWt0cmFudShldik7XHJcbiAgICAgICAgZHVnbWljaS5hcHBlbmRDaGlsZChwb2tyZW5pKTsgICAgXHJcblxyXG4gICAgICAgIFxyXG4gICAgICAgIGNvbnN0IGlza2xqdWNpID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiKTtcclxuICAgICAgICBpc2tsanVjaS5pbm5lckhUTUwgPSBcIklza2xqdWNpXCI7XHJcbiAgICAgICAgaXNrbGp1Y2kuZGlzYWJsZWQgPSB0cnVlO1xyXG4gICAgICAgIGlza2xqdWNpLm9uY2xpY2sgPSAoZXYpID0+IHRoaXMuaXNrbGp1Y2lFbGVrdHJhbnUoZXYpO1xyXG4gICAgICAgIGlza2xqdWNpLmNsYXNzTmFtZSA9IFwiaXNrbGp1Y2lcIjtcclxuICAgICAgICBcclxuICAgICAgICBkdWdtaWNpLmFwcGVuZENoaWxkKGlza2xqdWNpKTsgXHJcblxyXG4gICAgICAgIHRoaXMua29uem9sYSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0ZXh0YXJlYVwiKTtcclxuICAgICAgICB0aGlzLmtvbnpvbGEuY2xhc3NOYW1lID0gXCJrb256b2xhXCI7XHJcbiAgICAgICAgc2lkZS5hcHBlbmRDaGlsZCh0aGlzLmtvbnpvbGEpO1xyXG4gICAgfVxyXG5cclxuICAgIFByaWthemlSZWFrdG9yUGxhY2Vob2xkZXIoKXtcclxuICAgICAgICB0aGlzLnJlYWN0b3JzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcclxuICAgICAgICB0aGlzLnJlYWN0b3JzLmNsYXNzTmFtZSA9IFwicmVhY3RvcnNcIjtcclxuICAgICAgICB0aGlzLnJvZGl0ZWxqLmFwcGVuZENoaWxkKHRoaXMucmVhY3RvcnMpO1xyXG4gICAgfVxyXG5cclxuICAgIHBva3JlbmlFbGVrdHJhbnUoZXYpe1xyXG4gICAgICAgIGNvbnN0IHRla3NQb2xqZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuc2lmcmFSYWRuaWthXCIpO1xyXG4gICAgICAgIGZldGNoKGBodHRwOi8vbG9jYWxob3N0OjMwMDAvcmFkbmljaS8ke3Rla3NQb2xqZS52YWx1ZX1gKVxyXG4gICAgICAgIC50aGVuKHJhZG5payA9PnsgICAgXHJcbiAgICAgICAgICAgIGlmKHJhZG5pay5vayl7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm1haW5TdWJqZWN0JCA9IG5ldyBTdWJqZWN0KCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNvb2xpbmckID0gbmV3IFN1YmplY3QoKTtcclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLkluaWNpamFsaXphY2lqYVJlYWt0b3JhKCk7ICAgIFxyXG4gICAgICAgICAgICAgICAgdGhpcy5QcmlrYXppUmVha3RvcmUoKTtcclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgZXYudGFyZ2V0LmRpc2FibGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGlza2xqdWNpID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5pc2tsanVjaVwiKTtcclxuICAgICAgICAgICAgICAgIGlza2xqdWNpLmRpc2FibGVkID0gZmFsc2U7XHJcblxyXG4gICAgICAgICAgICAgICAgcmFkbmlrLmpzb24oKS50aGVuKHJlej0+dGhpcy5rb256b2xhLmlubmVySFRNTCArPSBgUG9rcmV0YW5qZSBvZCBzdHJhbmUgcmFkbmlrYSAke3Jlei5pbWV9ICR7cmV6LnByZXppbWV9IGArIFwiJiMxMzsmIzEwXCIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2VcclxuICAgICAgICAgICAgICAgIHRoaXMua29uem9sYS5pbm5lckhUTUwgKz0gYERvc2xvIGplIGRvIGdyZXNrZSBgKyBcIiYjMTM7JiMxMFwiO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICB9KSAgICAgICAgXHJcbiAgICAgICAgLmNhdGNoKGVyciA9PiBjb25zb2xlLmxvZyhlcnIpKVxyXG4gICAgfVxyXG5cclxuICAgIGlza2xqdWNpRWxla3RyYW51KGV2KXtcclxuICAgICAgICBldi50YXJnZXQuZGlzYWJsZWQgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMucmVhY3RvcnMuc3R5bGUuZGlzcGxheSA9ICdub25lJzsgIFxyXG4gICAgICAgIHRoaXMuUHJpa2F6aVJlYWt0b3JQbGFjZWhvbGRlcigpOyAgICBcclxuICAgICAgICBjb25zdCBwb2tyZW5pID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb2tyZW5pXCIpO1xyXG4gICAgICAgIHBva3JlbmkuZGlzYWJsZWQgPSBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICBQcmlrYXppUmVha3RvcmUoKXsgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgXHJcbiAgICAgICAgdGhpcy5yZWFrdG9yaS5tYXAoKHJlYWt0b3IsaW5kZXgpID0+IHtcclxuICAgICAgICAgICAgbGV0IHJlYWt0Q29udCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XHJcbiAgICAgICAgICAgIHJlYWt0Q29udC5jbGFzc05hbWUgPSBcInJlYWN0b3JcIjtcclxuICAgICAgICAgICAgdGhpcy5yZWFjdG9ycy5hcHBlbmRDaGlsZChyZWFrdENvbnQpO1xyXG4gICAgICAgICAgICB0aGlzLlByaWthemlSZWFrdG9yKHJlYWt0b3IscmVha3RDb250LGluZGV4KTtcclxuICAgICAgICB9KVxyXG5cclxuICAgIH1cclxuXHJcbiAgICBQcmlrYXppUmVha3RvcihyZWFrdG9yLCBjb250YWluZXIsaW5kZXgpe1xyXG4gICAgICAgIGxldCBza2FsYSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XHJcbiAgICAgICAgc2thbGEuY2xhc3NOYW1lID0gXCJza2FsYVwiO1xyXG4gICAgICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZChza2FsYSk7XHJcblxyXG4gICAgICAgIGxldCBwb3B1bmEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xyXG4gICAgICAgIHBvcHVuYS5jbGFzc05hbWUgPSBcInBvcHVuYVwiO1xyXG4gICAgICAgIHNrYWxhLmFwcGVuZENoaWxkKHBvcHVuYSk7XHJcblxyXG4gICAgICAgIGxldCBzbmFnYSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XHJcbiAgICAgICAgc25hZ2EuY2xhc3NOYW1lID0gXCJwbHVzTWludXNcIjtcclxuICAgICAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQoc25hZ2EpO1xyXG5cclxuICAgICAgICBsZXQgc25hZ2FMYmwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGFiZWxcIik7XHJcbiAgICAgICAgc25hZ2FMYmwuaW5uZXJIVE1MID0gXCJTbmFnYTogXCJcclxuICAgICAgICBzbmFnYS5hcHBlbmRDaGlsZChzbmFnYUxibCk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgbGV0IGl6bm9zU25hZ2UgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGFiZWxcIik7XHJcbiAgICAgICAgaXpub3NTbmFnZS5pbm5lckhUTUwgPSByZWFrdG9yLmlza29yaXNjZW5vc3Q7XHJcbiAgICAgICAgaXpub3NTbmFnZS5jbGFzc05hbWUgPSBcIml6bm9zXCI7XHJcbiAgICAgICAgc25hZ2EuYXBwZW5kQ2hpbGQoaXpub3NTbmFnZSk7XHJcblxyXG4gICAgICAgIGxldCBzbmFnYUJ0blBsdXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpO1xyXG4gICAgICAgIHNuYWdhQnRuUGx1cy52YWx1ZSA9IGluZGV4O1xyXG4gICAgICAgIHNuYWdhQnRuUGx1cy5pbm5lckhUTUwgPSBcIitcIjtcclxuICAgICAgICBzbmFnYUJ0blBsdXMub25jbGljayA9IChlKSA9PiB0aGlzLmNvb2xpbmckLm5leHQoZS52YWx1ZSk7XHJcbiAgICAgICAgc25hZ2EuYXBwZW5kQ2hpbGQoc25hZ2FCdG5QbHVzKTtcclxuICAgICAgICBcclxuICAgICAgICBsZXQgc25hZ2FCdG5NaW51cyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIik7XHJcbiAgICAgICAgc25hZ2FCdG5NaW51cy52YWx1ZSA9IC1pbmRleDtcclxuICAgICAgICBzbmFnYUJ0bk1pbnVzLmlubmVySFRNTCA9IFwiLVwiO1xyXG4gICAgICAgIHNuYWdhQnRuTWludXMub25jbGljayA9IChlKSA9PiB0aGlzLmNvb2xpbmckLm5leHQoZS52YWx1ZSk7XHJcbiAgICAgICAgc25hZ2EuYXBwZW5kQ2hpbGQoc25hZ2FCdG5NaW51cyk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgbGV0IGhsYWRqID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcclxuICAgICAgICBobGFkai5jbGFzc05hbWUgPSBcInBsdXNNaW51c1wiO1xyXG4gICAgICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZChobGFkaik7XHJcblxyXG4gICAgICAgIGxldCBobGFkakxibCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJsYWJlbFwiKTtcclxuICAgICAgICBobGFkakxibC5pbm5lckhUTUwgPSBcIkhsYWRqZW5qZTogXCJcclxuICAgICAgICBobGFkai5hcHBlbmRDaGlsZChobGFkakxibCk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgbGV0IGl6bm9zSGxhZGogPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGFiZWxcIik7XHJcbiAgICAgICAgaXpub3NIbGFkai5pbm5lckhUTUwgPSByZWFrdG9yLmlza29yaXNjZW5vc3Q7XHJcbiAgICAgICAgaXpub3NIbGFkai5jbGFzc05hbWUgPSBcIml6bm9zXCI7XHJcbiAgICAgICAgaGxhZGouYXBwZW5kQ2hpbGQoaXpub3NIbGFkaik7XHJcblxyXG4gICAgICAgIGxldCBobGFkakJ0blBsdXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpO1xyXG4gICAgICAgIGhsYWRqQnRuUGx1cy5pbm5lckhUTUwgPSBcIitcIjtcclxuICAgICAgICBobGFkai5hcHBlbmRDaGlsZChobGFkakJ0blBsdXMpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGxldCBobGFkakJ0bk1pbnVzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiKTtcclxuICAgICAgICBobGFkakJ0bk1pbnVzLmlubmVySFRNTCA9IFwiLVwiO1xyXG4gICAgICAgIGhsYWRqLmFwcGVuZENoaWxkKGhsYWRqQnRuTWludXMpO1xyXG4gICAgfVxyXG5cclxuICAgIFxyXG4gICAgXHJcblxyXG4gICAgXHJcbn0iXSwic291cmNlUm9vdCI6IiJ9